{
  "nodes": [
    {
      "nodeId": "userGuide",
      "name": "common:core.module.template.system_config",
      "intro": "common:core.module.template.system_config_info",
      "avatar": "core/workflow/template/systemConfig",
      "flowNodeType": "userGuide",
      "position": {
        "x": -27518.579889136963,
        "y": 2716.0478534669583
      },
      "version": "481",
      "inputs": [
        {
          "key": "welcomeText",
          "renderTypeList": [
            "hidden"
          ],
          "valueType": "string",
          "label": "core.app.Welcome Text",
          "value": ""
        },
        {
          "key": "variables",
          "renderTypeList": [
            "hidden"
          ],
          "valueType": "any",
          "label": "core.app.Chat Variable",
          "value": []
        },
        {
          "key": "questionGuide",
          "valueType": "any",
          "renderTypeList": [
            "hidden"
          ],
          "label": "core.app.Question Guide",
          "value": {
            "open": false
          }
        },
        {
          "key": "tts",
          "renderTypeList": [
            "hidden"
          ],
          "valueType": "any",
          "label": "",
          "value": {
            "type": "web"
          }
        },
        {
          "key": "whisper",
          "renderTypeList": [
            "hidden"
          ],
          "valueType": "any",
          "label": "",
          "value": {
            "open": false,
            "autoSend": false,
            "autoTTSResponse": false
          }
        },
        {
          "key": "scheduleTrigger",
          "renderTypeList": [
            "hidden"
          ],
          "valueType": "any",
          "label": "",
          "value": null
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "448745",
      "name": "common:core.module.template.work_start",
      "intro": "",
      "avatar": "core/workflow/template/workflowStart",
      "flowNodeType": "workflowStart",
      "position": {
        "x": -26760.542213760767,
        "y": 3775.0478534669583
      },
      "version": "481",
      "inputs": [
        {
          "key": "userChatInput",
          "renderTypeList": [
            "reference",
            "textarea"
          ],
          "valueType": "string",
          "label": "common:core.module.input.label.user question",
          "required": true,
          "toolDescription": "用户问题",
          "debugLabel": ""
        }
      ],
      "outputs": [
        {
          "id": "userChatInput",
          "key": "userChatInput",
          "label": "common:core.module.input.label.user question",
          "type": "static",
          "valueType": "string",
          "description": ""
        },
        {
          "id": "userFiles",
          "key": "userFiles",
          "label": "app:workflow.user_file_input",
          "description": "app:workflow.user_file_input_desc",
          "type": "static",
          "valueType": "arrayString"
        }
      ]
    },
    {
      "nodeId": "mDFq5jJrgQHy",
      "name": "AI 对话",
      "intro": "AI 大模型对话",
      "avatar": "core/workflow/template/aiChat",
      "flowNodeType": "chatNode",
      "showStatus": true,
      "position": {
        "x": -4978.850013313887,
        "y": -6304.07289219989
      },
      "version": "4813",
      "inputs": [
        {
          "key": "model",
          "renderTypeList": [
            "settingLLMModel",
            "reference"
          ],
          "label": "AI 模型",
          "valueType": "string",
          "value": "gpt-4o",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "temperature",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": 0,
          "valueType": "number",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "maxToken",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": 15300,
          "valueType": "number",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "isResponseAnswerText",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": true,
          "valueType": "boolean",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "aiChatQuoteRole",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "value": "system",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quoteTemplate",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quotePrompt",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "aiChatVision",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "boolean",
          "value": true,
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "systemPrompt",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "max": 3000,
          "valueType": "string",
          "label": "提示词",
          "description": "core.app.tip.systemPromptTip",
          "placeholder": "core.app.tip.chatNodeSystemPromptTip",
          "value": "对输入的产品信息进行json格式输出：\n{\n  \"品牌\": \"\",\n  \"产品\": \"\",\n  \"颜色\": \"\",\n  \"工艺\": \"\",\n  \"用户痛点\": \"\",\n  \"运动场景\": \"\",\n  \"FAB产品解说\": \"\",\n  \"面料解说\": \"\",\n  \"一句话宣传\": \"\",\n  \"面料宣传\": \"\",\n  \"版型宣传\": \"\",\n  \"设计宣传\": \"\"\n}",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "history",
          "renderTypeList": [
            "numberInput",
            "reference"
          ],
          "valueType": "chatHistory",
          "label": "聊天记录",
          "description": "workflow:max_dialog_rounds",
          "required": true,
          "min": 0,
          "max": 50,
          "value": 6,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quoteQA",
          "renderTypeList": [
            "settingDatasetQuotePrompt"
          ],
          "label": "",
          "debugLabel": "知识库引用",
          "description": "",
          "valueType": "datasetQuote",
          "valueDesc": "",
          "toolDescription": ""
        },
        {
          "key": "fileUrlList",
          "renderTypeList": [
            "reference",
            "input"
          ],
          "label": "文件链接",
          "debugLabel": "文件链接",
          "valueType": "arrayString",
          "value": [
            [
              "448745",
              "userFiles"
            ]
          ],
          "valueDesc": "",
          "description": "",
          "toolDescription": ""
        },
        {
          "key": "userChatInput",
          "renderTypeList": [
            "reference",
            "textarea"
          ],
          "valueType": "string",
          "label": "用户问题",
          "toolDescription": "用户问题",
          "required": true,
          "value": [
            "VARIABLE_NODE_ID",
            "userId"
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "selectedTypeIndex": 0
        }
      ],
      "outputs": [
        {
          "id": "history",
          "key": "history",
          "required": true,
          "label": "common:core.module.output.label.New context",
          "description": "将本次回复内容拼接上历史记录，作为新的上下文返回",
          "valueType": "chatHistory",
          "valueDesc": "{\n  obj: System | Human | AI;\n  value: string;\n}[]",
          "type": "static"
        },
        {
          "id": "answerText",
          "key": "answerText",
          "required": true,
          "label": "common:core.module.output.label.Ai response content",
          "description": "将在 stream 回复完毕后触发",
          "valueType": "string",
          "type": "static"
        }
      ]
    },
    {
      "nodeId": "ffubwInCOMzx",
      "name": "代码运行",
      "intro": "执行一段简单的脚本代码，通常用于进行复杂的数据处理。",
      "avatar": "core/workflow/template/codeRun",
      "flowNodeType": "code",
      "showStatus": true,
      "position": {
        "x": -3914.6782196777135,
        "y": -6327.206354033215
      },
      "version": "482",
      "inputs": [
        {
          "key": "system_addInputParam",
          "renderTypeList": [
            "addInputParam"
          ],
          "valueType": "dynamic",
          "label": "",
          "required": false,
          "description": "workflow:these_variables_will_be_input_parameters_for_code_execution",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "codeType",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": "js",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "code",
          "renderTypeList": [
            "custom"
          ],
          "label": "",
          "value": "function main({data1}) {\n    // 提取字符串中 JSON 内容的起始和结束位置\n    const jsonStart = data1.indexOf('{');\n    const jsonEnd = data1.lastIndexOf('}') + 1;\n\n    // 使用字符串切割函数从原字符串中提取 JSON 部分\n    const jsonString = data1.substring(jsonStart, jsonEnd);\n\n    // 解析 JSON 字符串成 JavaScript 对象\n    const jsonObject = JSON.parse(jsonString);\n\n    // 为每个 JSON 键赋予对应的变量\n    const {\n        品牌: brand,\n        产品: product,\n        颜色: colors,\n        工艺: process,\n        用户痛点: userPainPoints,\n        运动场景: sportScenes,\n        'FAB 产品解说': fabProductDescription,\n        面料解说: fabricDescription,\n        一句话宣传: tagline,\n        面料宣传: fabricTagline,\n        版型宣传: patternTagline,\n        设计宣传: designTagline\n    } = jsonObject;\n\n    // 重新构造一个新对象，用于返回\n     return{\n        brand,\n        product,\n        colors,\n        process,\n        userPainPoints,\n        sportScenes,\n        fabProductDescription,\n        fabricDescription,\n        tagline,\n        fabricTagline,\n        patternTagline,\n        designTagline\n    };\n}\n\n",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "data1",
          "label": "data1",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "mDFq5jJrgQHy",
            "answerText"
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "system_rawResponse",
          "key": "system_rawResponse",
          "label": "workflow:full_response_data",
          "valueType": "object",
          "type": "static",
          "description": ""
        },
        {
          "id": "error",
          "key": "error",
          "label": "workflow:execution_error",
          "description": "代码运行错误信息，成功时返回空",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "system_addOutputParam",
          "key": "system_addOutputParam",
          "type": "dynamic",
          "valueType": "dynamic",
          "label": "",
          "customFieldConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": false
          },
          "description": "将代码中 return 的对象作为输出，传递给后续的节点。变量名需要对应 return 的 key",
          "valueDesc": ""
        },
        {
          "id": "lH40VVOx1Zgl",
          "valueType": "string",
          "type": "dynamic",
          "key": "brand",
          "label": "brand"
        },
        {
          "id": "msXGinnkqZzm",
          "valueType": "string",
          "type": "dynamic",
          "key": "colors",
          "label": "colors"
        },
        {
          "id": "qnJP4at7LGZ5",
          "valueType": "string",
          "type": "dynamic",
          "key": "process",
          "label": "process"
        },
        {
          "id": "y9xkLCc3SYHG",
          "valueType": "string",
          "type": "dynamic",
          "key": "userPainPoints",
          "label": "userPainPoints"
        },
        {
          "id": "uJurqLZneDqi",
          "valueType": "string",
          "type": "dynamic",
          "key": "sportScenes",
          "label": "sportScenes"
        },
        {
          "id": "h96DHovYuWdC",
          "valueType": "string",
          "type": "dynamic",
          "key": "fabProductDescription",
          "label": "fabProductDescription"
        },
        {
          "id": "ec2HTlg4YZDj",
          "valueType": "string",
          "type": "dynamic",
          "key": "fabricDescription",
          "label": "fabricDescription"
        },
        {
          "id": "nuryLCxsNPYW",
          "valueType": "string",
          "type": "dynamic",
          "key": "tagline",
          "label": "tagline"
        },
        {
          "id": "ljKXiQVIZFGi",
          "valueType": "string",
          "type": "dynamic",
          "key": "patternTagline",
          "label": "patternTagline"
        },
        {
          "id": "kchVHWlFsIs0",
          "valueType": "string",
          "type": "dynamic",
          "key": "designTagline",
          "label": "designTagline"
        },
        {
          "id": "q1PkCgLyQRgV",
          "valueType": "string",
          "type": "dynamic",
          "key": "product",
          "label": "product"
        }
      ]
    },
    {
      "nodeId": "qWGAOEoxpsTr",
      "name": "AI 对话#2",
      "intro": "AI 大模型对话",
      "avatar": "core/workflow/template/aiChat",
      "flowNodeType": "chatNode",
      "showStatus": true,
      "position": {
        "x": 7697.685628586949,
        "y": -5816.42770896128
      },
      "version": "4813",
      "inputs": [
        {
          "key": "model",
          "renderTypeList": [
            "settingLLMModel",
            "reference"
          ],
          "label": "AI 模型",
          "valueType": "string",
          "value": "gpt-4o",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "temperature",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": 0,
          "valueType": "number",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "maxToken",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": 2000,
          "valueType": "number",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "isResponseAnswerText",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": true,
          "valueType": "boolean",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "aiChatQuoteRole",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "value": "system",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quoteTemplate",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quotePrompt",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "aiChatVision",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "boolean",
          "value": true,
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "systemPrompt",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "max": 3000,
          "valueType": "string",
          "label": "提示词",
          "description": "core.app.tip.systemPromptTip",
          "placeholder": "core.app.tip.chatNodeSystemPromptTip",
          "value": "根据给到的产品信息，给一段场景为直播间产品功能讲解文案，不需要介绍直播间，自然一点，特别注意，用户信息中没有的不可以随意发挥：\n参考示例如下：\n穿这一件出门就够了，然后他这个帽子的话呢，给他做什么黑胶帽檐。黑胶帽檐的话呢，是可以隔断紫外线光波，紫外线是穿透不进来的。姐妹们，紫外线是穿透不进来的。然后呢，它这个帽檐的话，给大家做到隔光隔热。面下是降温的，你想一下你夏天三十八度那种高温天气，还在外面，就是在外面的姐妹，是不是你穿着很舒服的，它面下是降温的，隔光隔热。\n字数：160字左右；",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "history",
          "renderTypeList": [
            "numberInput",
            "reference"
          ],
          "valueType": "chatHistory",
          "label": "聊天记录",
          "description": "workflow:max_dialog_rounds",
          "required": true,
          "min": 0,
          "max": 50,
          "value": 6,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quoteQA",
          "renderTypeList": [
            "settingDatasetQuotePrompt"
          ],
          "label": "",
          "debugLabel": "知识库引用",
          "description": "",
          "valueType": "datasetQuote",
          "valueDesc": "",
          "toolDescription": ""
        },
        {
          "key": "fileUrlList",
          "renderTypeList": [
            "reference",
            "input"
          ],
          "label": "文件链接",
          "debugLabel": "文件链接",
          "valueType": "arrayString",
          "value": [
            [
              "448745",
              "userFiles"
            ]
          ],
          "valueDesc": "",
          "description": "",
          "toolDescription": ""
        },
        {
          "key": "userChatInput",
          "renderTypeList": [
            "reference",
            "textarea"
          ],
          "valueType": "string",
          "label": "用户问题",
          "toolDescription": "用户问题",
          "required": true,
          "value": "产品名\n   {{$ffubwInCOMzx.q1PkCgLyQRgV$}}\n一句话宣传\n    {{$ffubwInCOMzx.nuryLCxsNPYW$}}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "selectedTypeIndex": 1
        }
      ],
      "outputs": [
        {
          "id": "history",
          "key": "history",
          "required": true,
          "label": "common:core.module.output.label.New context",
          "description": "将本次回复内容拼接上历史记录，作为新的上下文返回",
          "valueType": "chatHistory",
          "valueDesc": "{\n  obj: System | Human | AI;\n  value: string;\n}[]",
          "type": "static"
        },
        {
          "id": "answerText",
          "key": "answerText",
          "required": true,
          "label": "common:core.module.output.label.Ai response content",
          "description": "将在 stream 回复完毕后触发",
          "valueType": "string",
          "type": "static"
        }
      ]
    },
    {
      "nodeId": "gPFQaXpUAHLU",
      "name": "指定回复#2",
      "intro": "该模块可以直接回复一段指定的内容。常用于引导、提示。非字符串内容传入时，会转成字符串进行输出。",
      "avatar": "core/workflow/template/reply",
      "flowNodeType": "answerNode",
      "position": {
        "x": 9597.987312518195,
        "y": -5437.581236821642
      },
      "version": "481",
      "inputs": [
        {
          "key": "text",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "valueType": "any",
          "required": true,
          "label": "回复的内容",
          "description": "common:core.module.input.description.Response content",
          "placeholder": "common:core.module.input.description.Response content",
          "value": "{{$qWGAOEoxpsTr.answerText$}}",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "tPMDuTKE6rm1",
      "name": "用户选择#2",
      "intro": "该模块可配置多个选项，以供对话时选择。不同选项可导向不同工作流支线",
      "avatar": "core/workflow/template/userSelect",
      "flowNodeType": "userSelect",
      "position": {
        "x": -3538.5729362587426,
        "y": 724.3860381988952
      },
      "version": "489",
      "inputs": [
        {
          "key": "description",
          "renderTypeList": [
            "textarea"
          ],
          "valueType": "string",
          "label": "说明文字",
          "description": "app:workflow.select_description_tip",
          "placeholder": "app:workflow.select_description_placeholder",
          "value": "",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "custom"
          ],
          "valueType": "any",
          "label": "",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": "",
          "key": "userSelectOptions",
          "value": [
            {
              "value": "一、直播讲解",
              "key": "option1"
            },
            {
              "value": "二、品牌营销",
              "key": "option2"
            },
            {
              "value": "三、口播带货",
              "key": "tEcdakG8pAsO"
            }
          ]
        }
      ],
      "outputs": [
        {
          "id": "selectResult",
          "key": "selectResult",
          "required": true,
          "label": "app:workflow.select_result",
          "valueType": "string",
          "type": "static",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "bmzcchcY6TIh",
      "name": "AI 对话#4",
      "intro": "AI 大模型对话",
      "avatar": "core/workflow/template/aiChat",
      "flowNodeType": "chatNode",
      "showStatus": true,
      "position": {
        "x": 11742.947685970823,
        "y": 6516.195633856433
      },
      "version": "4813",
      "inputs": [
        {
          "key": "model",
          "renderTypeList": [
            "settingLLMModel",
            "reference"
          ],
          "label": "AI 模型",
          "valueType": "string",
          "value": "gpt-4o",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "temperature",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": 0,
          "valueType": "number",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "maxToken",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": 2000,
          "valueType": "number",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "isResponseAnswerText",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": true,
          "valueType": "boolean",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "aiChatQuoteRole",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "value": "system",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quoteTemplate",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quotePrompt",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "aiChatVision",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "boolean",
          "value": true,
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "systemPrompt",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "max": 3000,
          "valueType": "string",
          "label": "提示词",
          "description": "core.app.tip.systemPromptTip",
          "placeholder": "core.app.tip.chatNodeSystemPromptTip",
          "value": "用户会给到一个带有概率输出的文案信息，你根据这些概率随机输出文案内容",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "history",
          "renderTypeList": [
            "numberInput",
            "reference"
          ],
          "valueType": "chatHistory",
          "label": "聊天记录",
          "description": "workflow:max_dialog_rounds",
          "required": true,
          "min": 0,
          "max": 50,
          "value": 6,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quoteQA",
          "renderTypeList": [
            "settingDatasetQuotePrompt"
          ],
          "label": "",
          "debugLabel": "知识库引用",
          "description": "",
          "valueType": "datasetQuote",
          "valueDesc": "",
          "toolDescription": ""
        },
        {
          "key": "fileUrlList",
          "renderTypeList": [
            "reference",
            "input"
          ],
          "label": "文件链接",
          "debugLabel": "文件链接",
          "valueType": "arrayString",
          "value": [
            [
              "448745",
              "userFiles"
            ]
          ],
          "valueDesc": "",
          "description": "",
          "toolDescription": ""
        },
        {
          "key": "userChatInput",
          "renderTypeList": [
            "reference",
            "textarea"
          ],
          "valueType": "string",
          "label": "用户问题",
          "toolDescription": "用户问题",
          "required": true,
          "value": "品牌    50%\n    S&W\n产品    100%\n    小冰纱防晒外套\n颜色   随机一条 20%\n    冰川白\n    浅茶杏\n    冰川灰\n    曜石黑\n    海沫绿 \n工艺    100%\n    净色\n用户痛点    \n运动场景\n一句话宣传  20%\n    一体式冰感包裹，挡住紫外线，体感冰凉，化身肌肤“遮阳伞、保护壳”，令你住进清凉里，肌肤水润依旧\nFAB产品解说  随机一条 100% 随机两条 50% 随机三条 10% 随机四条0% \n    1.低领短帽檐设计，方便穿戴，不勒脖子\n    2.立体宽松H裁剪，友好兼容不同身形，\n    3.后开马尾孔设计，第二橡皮筋，发型不凌乱\n    4.软帽檐设计，随意折叠,轻量遮阳\n    5.加长勾手袖子，防晒至手背，袖子不上跑\n    6.两侧插袋，能放方便置纳物件\n    7.下脚可调节扣，自由收口及松放，不让风钻空子\n面料解说    随机一条100%  随机两条20% 随机三条0%\n    1.原纱型硬核物理防晒，高倍抗光老\n    2.水柔原纱，越穿越凉快\n    3.吸湿速干，汗水迅速蒸发，凉爽透气不变形，\n    4.轻盈挺阔，出汗不粘身\n面料宣传  100%      \n    面料：原纱型防晒UPF50+，硬核型物理防晒，有效阻隔紫外线，同时水洗也不减防晒力；\n版型宣传   50%\n    版型： 紧身 修身 合体 宽松\n    版型：宽松款，包容不同身材，藏肉显瘦尺码：\n设计宣传   随机一条50%\n    ①风格设计：简约百搭风，轻松搭遍万物，1件当8件穿，跑步、网球、徒步、爬山等运动与日常休闲都可穿\n    ②下摆设计：下摆带抽绳，可调节，收紧、放松状态适配运动、休闲场景\n    ③帽子设计：软帽檐设计，防晒也不影响造型，收纳折叠不变形；帽子后方自带马尾孔，清爽透气、也不乱发型L码【130—160斤】\n    ④袖子设计：加长袖子设计，防晒至手背，同时固定袖子，动起来不跑位不上窜",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "selectedTypeIndex": 1
        }
      ],
      "outputs": [
        {
          "id": "history",
          "key": "history",
          "required": true,
          "label": "common:core.module.output.label.New context",
          "description": "将本次回复内容拼接上历史记录，作为新的上下文返回",
          "valueType": "chatHistory",
          "valueDesc": "{\n  obj: System | Human | AI;\n  value: string;\n}[]",
          "type": "static"
        },
        {
          "id": "answerText",
          "key": "answerText",
          "required": true,
          "label": "common:core.module.output.label.Ai response content",
          "description": "将在 stream 回复完毕后触发",
          "valueType": "string",
          "type": "static"
        }
      ]
    },
    {
      "nodeId": "bY4HmuJTvHnA",
      "name": "指定回复#3",
      "intro": "该模块可以直接回复一段指定的内容。常用于引导、提示。非字符串内容传入时，会转成字符串进行输出。",
      "avatar": "core/workflow/template/reply",
      "flowNodeType": "answerNode",
      "position": {
        "x": 12921.424117363109,
        "y": 6972.695633856433
      },
      "version": "481",
      "inputs": [
        {
          "key": "text",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "valueType": "any",
          "required": true,
          "label": "回复的内容",
          "description": "common:core.module.input.description.Response content",
          "placeholder": "common:core.module.input.description.Response content",
          "value": "{{$bmzcchcY6TIh.answerText$}}",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "bJon2gu0oQX6",
      "name": "AI 对话#5",
      "intro": "AI 大模型对话",
      "avatar": "core/workflow/template/aiChat",
      "flowNodeType": "chatNode",
      "showStatus": true,
      "position": {
        "x": 8499.480627540725,
        "y": -5837.833228860965
      },
      "version": "4813",
      "inputs": [
        {
          "key": "model",
          "renderTypeList": [
            "settingLLMModel",
            "reference"
          ],
          "label": "AI 模型",
          "valueType": "string",
          "value": "gpt-4o",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "temperature",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": 0,
          "valueType": "number",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "maxToken",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": 2000,
          "valueType": "number",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "isResponseAnswerText",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": true,
          "valueType": "boolean",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "aiChatQuoteRole",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "value": "system",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quoteTemplate",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quotePrompt",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "aiChatVision",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "boolean",
          "value": true,
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "systemPrompt",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "max": 3000,
          "valueType": "string",
          "label": "提示词",
          "description": "core.app.tip.systemPromptTip",
          "placeholder": "core.app.tip.chatNodeSystemPromptTip",
          "value": "根据给到的产品信息，给一段场景为直播间产品功能讲解文案，不需要介绍直播间，语言风格参照示例，特别注意，产品信息中没有的不可以随意发挥：\n参考示例如下：\n透气啊，我用我这么远哈来给大家看一下它的透气性，这透气效果啊，看得到吧。透气性是非常好的，包括我身上的裤子，看一下一样透气，跟我衣服是一样的面料。我们家衣服裤子全部都是给大家做到UPF值五百加，能做到透气，凉感，速干，能够做到穿在身上来宝贝非常非常的舒服。而且这个一排给大家做了什么呢，做了。\n字数：160字左右\n",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "history",
          "renderTypeList": [
            "numberInput",
            "reference"
          ],
          "valueType": "chatHistory",
          "label": "聊天记录",
          "description": "workflow:max_dialog_rounds",
          "required": true,
          "min": 0,
          "max": 50,
          "value": 6,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quoteQA",
          "renderTypeList": [
            "settingDatasetQuotePrompt"
          ],
          "label": "",
          "debugLabel": "知识库引用",
          "description": "",
          "valueType": "datasetQuote",
          "valueDesc": "",
          "toolDescription": ""
        },
        {
          "key": "fileUrlList",
          "renderTypeList": [
            "reference",
            "input"
          ],
          "label": "文件链接",
          "debugLabel": "文件链接",
          "valueType": "arrayString",
          "value": [
            [
              "448745",
              "userFiles"
            ]
          ],
          "valueDesc": "",
          "description": "",
          "toolDescription": ""
        },
        {
          "key": "userChatInput",
          "renderTypeList": [
            "reference",
            "textarea"
          ],
          "valueType": "string",
          "label": "用户问题",
          "toolDescription": "用户问题",
          "required": true,
          "value": "产品名\n    小冰纱防晒外套\nFAB产品解说\n    1.低领短帽檐设计，方便穿戴，不勒脖子\n    2.立体宽松H裁剪，友好兼容不同身形，\n    3.后开马尾孔设计，字代第二橡皮筋，发型不凌乱\n    4.软帽檐设计，随意折叠,轻量遮阳\n    5.加长勾手袖子，防晒至手背，袖子不上跑\n    6.两侧插袋，能放方便置纳物件\n    7.下脚可调节扣，自由收口及松放，不让风钻空子",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "selectedTypeIndex": 1
        }
      ],
      "outputs": [
        {
          "id": "history",
          "key": "history",
          "required": true,
          "label": "common:core.module.output.label.New context",
          "description": "将本次回复内容拼接上历史记录，作为新的上下文返回",
          "valueType": "chatHistory",
          "valueDesc": "{\n  obj: System | Human | AI;\n  value: string;\n}[]",
          "type": "static"
        },
        {
          "id": "answerText",
          "key": "answerText",
          "required": true,
          "label": "common:core.module.output.label.Ai response content",
          "description": "将在 stream 回复完毕后触发",
          "valueType": "string",
          "type": "static"
        }
      ]
    },
    {
      "nodeId": "fhQ5SpQFzz4P",
      "name": "AI 对话#6",
      "intro": "AI 大模型对话",
      "avatar": "core/workflow/template/aiChat",
      "flowNodeType": "chatNode",
      "showStatus": true,
      "position": {
        "x": 7658.158090595543,
        "y": -4574.833228860965
      },
      "version": "4813",
      "inputs": [
        {
          "key": "model",
          "renderTypeList": [
            "settingLLMModel",
            "reference"
          ],
          "label": "AI 模型",
          "valueType": "string",
          "value": "gpt-4o",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "temperature",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": 0,
          "valueType": "number",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "maxToken",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": 2000,
          "valueType": "number",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "isResponseAnswerText",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": true,
          "valueType": "boolean",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "aiChatQuoteRole",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "value": "system",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quoteTemplate",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quotePrompt",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "aiChatVision",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "boolean",
          "value": true,
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "systemPrompt",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "max": 3000,
          "valueType": "string",
          "label": "提示词",
          "description": "core.app.tip.systemPromptTip",
          "placeholder": "core.app.tip.chatNodeSystemPromptTip",
          "value": "根据给到的产品信息，给一段场景为直播间产品功能讲解文案，不需要介绍直播间，自然一点，特别注意，用户信息中没有的不可以随意发挥：\n参考示例如下：\n穿这一件出门就够了，然后他这个帽子的话呢，给他做什么黑胶帽檐。黑胶帽檐的话呢，是可以隔断紫外线光波，紫外线是穿透不进来的。姐妹们，紫外线是穿透不进来的。然后呢，它这个帽檐的话，给大家做到隔光隔热。面下是降温的，你想一下你夏天三十八度那种高温天气，还在外面，就是在外面的姐妹，是不是你穿着很舒服的，它面下是降温的，隔光隔热。\n字数：160字左右\n生成10篇；",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "history",
          "renderTypeList": [
            "numberInput",
            "reference"
          ],
          "valueType": "chatHistory",
          "label": "聊天记录",
          "description": "workflow:max_dialog_rounds",
          "required": true,
          "min": 0,
          "max": 50,
          "value": 6,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quoteQA",
          "renderTypeList": [
            "settingDatasetQuotePrompt"
          ],
          "label": "",
          "debugLabel": "知识库引用",
          "description": "",
          "valueType": "datasetQuote",
          "valueDesc": "",
          "toolDescription": ""
        },
        {
          "key": "fileUrlList",
          "renderTypeList": [
            "reference",
            "input"
          ],
          "label": "文件链接",
          "debugLabel": "文件链接",
          "valueType": "arrayString",
          "value": [
            [
              "448745",
              "userFiles"
            ]
          ],
          "valueDesc": "",
          "description": "",
          "toolDescription": ""
        },
        {
          "key": "userChatInput",
          "renderTypeList": [
            "reference",
            "textarea"
          ],
          "valueType": "string",
          "label": "用户问题",
          "toolDescription": "用户问题",
          "required": true,
          "value": "产品名\n   {{$ffubwInCOMzx.q1PkCgLyQRgV$}}\n款式宣传\n    {{$ffubwInCOMzx.ljKXiQVIZFGi$}}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "selectedTypeIndex": 1
        }
      ],
      "outputs": [
        {
          "id": "history",
          "key": "history",
          "required": true,
          "label": "common:core.module.output.label.New context",
          "description": "将本次回复内容拼接上历史记录，作为新的上下文返回",
          "valueType": "chatHistory",
          "valueDesc": "{\n  obj: System | Human | AI;\n  value: string;\n}[]",
          "type": "static"
        },
        {
          "id": "answerText",
          "key": "answerText",
          "required": true,
          "label": "common:core.module.output.label.Ai response content",
          "description": "将在 stream 回复完毕后触发",
          "valueType": "string",
          "type": "static"
        }
      ]
    },
    {
      "nodeId": "qDDV2sysfB8s",
      "name": "AI 对话#7",
      "intro": "AI 大模型对话",
      "avatar": "core/workflow/template/aiChat",
      "flowNodeType": "chatNode",
      "showStatus": true,
      "position": {
        "x": 8574.629765263451,
        "y": -4546.694425214156
      },
      "version": "4813",
      "inputs": [
        {
          "key": "model",
          "renderTypeList": [
            "settingLLMModel",
            "reference"
          ],
          "label": "AI 模型",
          "valueType": "string",
          "value": "gpt-4o",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "temperature",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": 0,
          "valueType": "number",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "maxToken",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": 2000,
          "valueType": "number",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "isResponseAnswerText",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": true,
          "valueType": "boolean",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "aiChatQuoteRole",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "value": "system",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quoteTemplate",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quotePrompt",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "aiChatVision",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "boolean",
          "value": true,
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "systemPrompt",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "max": 3000,
          "valueType": "string",
          "label": "提示词",
          "description": "core.app.tip.systemPromptTip",
          "placeholder": "core.app.tip.chatNodeSystemPromptTip",
          "value": "根据给到的产品信息，给一段场景为直播间产品功能讲解文案，不需要介绍直播间，自然一点，特别注意，用户信息中没有的不可以随意发挥：\n参考示例如下：\n穿这一件出门就够了，然后他这个帽子的话呢，给他做什么黑胶帽檐。黑胶帽檐的话呢，是可以隔断紫外线光波，紫外线是穿透不进来的。姐妹们，紫外线是穿透不进来的。然后呢，它这个帽檐的话，给大家做到隔光隔热。面下是降温的，你想一下你夏天三十八度那种高温天气，还在外面，就是在外面的姐妹，是不是你穿着很舒服的，它面下是降温的，隔光隔热。\n字数：160字左右\n生成10篇；",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "history",
          "renderTypeList": [
            "numberInput",
            "reference"
          ],
          "valueType": "chatHistory",
          "label": "聊天记录",
          "description": "workflow:max_dialog_rounds",
          "required": true,
          "min": 0,
          "max": 50,
          "value": 6,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quoteQA",
          "renderTypeList": [
            "settingDatasetQuotePrompt"
          ],
          "label": "",
          "debugLabel": "知识库引用",
          "description": "",
          "valueType": "datasetQuote",
          "valueDesc": "",
          "toolDescription": ""
        },
        {
          "key": "fileUrlList",
          "renderTypeList": [
            "reference",
            "input"
          ],
          "label": "文件链接",
          "debugLabel": "文件链接",
          "valueType": "arrayString",
          "value": [
            [
              "448745",
              "userFiles"
            ]
          ],
          "valueDesc": "",
          "description": "",
          "toolDescription": ""
        },
        {
          "key": "userChatInput",
          "renderTypeList": [
            "reference",
            "textarea"
          ],
          "valueType": "string",
          "label": "用户问题",
          "toolDescription": "用户问题",
          "required": true,
          "value": "品牌\n    {{$ffubwInCOMzx.lH40VVOx1Zgl$}}\n产品名\n   {{$ffubwInCOMzx.q1PkCgLyQRgV$}}\n设计宣传\n    {{$ffubwInCOMzx.kchVHWlFsIs0$}}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "selectedTypeIndex": 1
        }
      ],
      "outputs": [
        {
          "id": "history",
          "key": "history",
          "required": true,
          "label": "common:core.module.output.label.New context",
          "description": "将本次回复内容拼接上历史记录，作为新的上下文返回",
          "valueType": "chatHistory",
          "valueDesc": "{\n  obj: System | Human | AI;\n  value: string;\n}[]",
          "type": "static"
        },
        {
          "id": "answerText",
          "key": "answerText",
          "required": true,
          "label": "common:core.module.output.label.Ai response content",
          "description": "将在 stream 回复完毕后触发",
          "valueType": "string",
          "type": "static"
        }
      ]
    },
    {
      "nodeId": "tU66vcXC8LmL",
      "name": "AI 对话#8",
      "intro": "AI 大模型对话",
      "avatar": "core/workflow/template/aiChat",
      "flowNodeType": "chatNode",
      "showStatus": true,
      "position": {
        "x": 7674.651938995625,
        "y": -3748.370004122408
      },
      "version": "4813",
      "inputs": [
        {
          "key": "model",
          "renderTypeList": [
            "settingLLMModel",
            "reference"
          ],
          "label": "AI 模型",
          "valueType": "string",
          "value": "gpt-4o",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "temperature",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": 0,
          "valueType": "number",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "maxToken",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": 2000,
          "valueType": "number",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "isResponseAnswerText",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": true,
          "valueType": "boolean",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "aiChatQuoteRole",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "value": "system",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quoteTemplate",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quotePrompt",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "aiChatVision",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "boolean",
          "value": true,
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "systemPrompt",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "max": 3000,
          "valueType": "string",
          "label": "提示词",
          "description": "core.app.tip.systemPromptTip",
          "placeholder": "core.app.tip.chatNodeSystemPromptTip",
          "value": "根据给到的产品信息，给一段场景为直播间产品功能讲解文案，不需要介绍直播间，自然一点，特别注意，用户信息中没有的不可以随意发挥：\n参考示例如下：\n穿这一件出门就够了，然后他这个帽子的话呢，给他做什么黑胶帽檐。黑胶帽檐的话呢，是可以隔断紫外线光波，紫外线是穿透不进来的。姐妹们，紫外线是穿透不进来的。然后呢，它这个帽檐的话，给大家做到隔光隔热。面下是降温的，你想一下你夏天三十八度那种高温天气，还在外面，就是在外面的姐妹，是不是你穿着很舒服的，它面下是降温的，隔光隔热。\n字数：160字左右\n",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "history",
          "renderTypeList": [
            "numberInput",
            "reference"
          ],
          "valueType": "chatHistory",
          "label": "聊天记录",
          "description": "workflow:max_dialog_rounds",
          "required": true,
          "min": 0,
          "max": 50,
          "value": 6,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quoteQA",
          "renderTypeList": [
            "settingDatasetQuotePrompt"
          ],
          "label": "",
          "debugLabel": "知识库引用",
          "description": "",
          "valueType": "datasetQuote",
          "valueDesc": "",
          "toolDescription": ""
        },
        {
          "key": "fileUrlList",
          "renderTypeList": [
            "reference",
            "input"
          ],
          "label": "文件链接",
          "debugLabel": "文件链接",
          "valueType": "arrayString",
          "value": [
            [
              "448745",
              "userFiles"
            ]
          ],
          "valueDesc": "",
          "description": "",
          "toolDescription": ""
        },
        {
          "key": "userChatInput",
          "renderTypeList": [
            "reference",
            "textarea"
          ],
          "valueType": "string",
          "label": "用户问题",
          "toolDescription": "用户问题",
          "required": true,
          "value": "产品名\n   {{$ffubwInCOMzx.q1PkCgLyQRgV$}}\n面料解说\n    {{$ffubwInCOMzx.h96DHovYuWdC$}}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "selectedTypeIndex": 1
        }
      ],
      "outputs": [
        {
          "id": "history",
          "key": "history",
          "required": true,
          "label": "common:core.module.output.label.New context",
          "description": "将本次回复内容拼接上历史记录，作为新的上下文返回",
          "valueType": "chatHistory",
          "valueDesc": "{\n  obj: System | Human | AI;\n  value: string;\n}[]",
          "type": "static"
        },
        {
          "id": "answerText",
          "key": "answerText",
          "required": true,
          "label": "common:core.module.output.label.Ai response content",
          "description": "将在 stream 回复完毕后触发",
          "valueType": "string",
          "type": "static"
        }
      ]
    },
    {
      "nodeId": "wzXrcVx8P29U",
      "name": "用户选择#2",
      "intro": "该模块可配置多个选项，以供对话时选择。不同选项可导向不同工作流支线",
      "avatar": "core/workflow/template/userSelect",
      "flowNodeType": "userSelect",
      "position": {
        "x": 4951.252594085332,
        "y": -4680.232522613424
      },
      "version": "489",
      "inputs": [
        {
          "key": "description",
          "renderTypeList": [
            "textarea"
          ],
          "valueType": "string",
          "label": "说明文字",
          "description": "app:workflow.select_description_tip",
          "placeholder": "app:workflow.select_description_placeholder",
          "value": "\n\n\n",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "custom"
          ],
          "valueType": "any",
          "label": "",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": "",
          "key": "userSelectOptions",
          "value": [
            {
              "value": "功能讲解",
              "key": "option1"
            },
            {
              "value": "卖点讲解",
              "key": "option2"
            },
            {
              "value": "版型讲解",
              "key": "nvKe7l2rGTsY"
            },
            {
              "value": "面料讲解",
              "key": "xy0lYH0Elp4e"
            },
            {
              "value": "综合讲解",
              "key": "q6X2MtGeesMT"
            }
          ]
        }
      ],
      "outputs": [
        {
          "id": "selectResult",
          "key": "selectResult",
          "required": true,
          "label": "app:workflow.select_result",
          "valueType": "string",
          "type": "static",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "vxCm87AciLnH",
      "name": "用户选择#3",
      "intro": "该模块可配置多个选项，以供对话时选择。不同选项可导向不同工作流支线",
      "avatar": "core/workflow/template/userSelect",
      "flowNodeType": "userSelect",
      "position": {
        "x": -763.4159262837229,
        "y": 531.8860381988952
      },
      "version": "489",
      "inputs": [
        {
          "key": "description",
          "renderTypeList": [
            "textarea"
          ],
          "valueType": "string",
          "label": "说明文字",
          "description": "app:workflow.select_description_tip",
          "placeholder": "app:workflow.select_description_placeholder",
          "value": "根据文案前三秒进行区分",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "custom"
          ],
          "valueType": "any",
          "label": "",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": "",
          "key": "userSelectOptions",
          "value": [
            {
              "value": "价格营销",
              "key": "option1"
            },
            {
              "value": "福利营销",
              "key": "option2"
            },
            {
              "value": "人群营销",
              "key": "nvKe7l2rGTsY"
            },
            {
              "value": "区域营销",
              "key": "xy0lYH0Elp4e"
            },
            {
              "value": "日常营销",
              "key": "uW6xBZF6ouJd"
            },
            {
              "value": "名人营销",
              "key": "jKL5BwuXukuo"
            },
            {
              "value": "剧情营销",
              "key": "vErbweZMXZrp"
            },
            {
              "value": "S&W风格",
              "key": "xMAVooKpuI1o"
            }
          ]
        }
      ],
      "outputs": [
        {
          "id": "selectResult",
          "key": "selectResult",
          "required": true,
          "label": "app:workflow.select_result",
          "valueType": "string",
          "type": "static",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "pcNsXJZPTBGQ",
      "name": "数据库连接",
      "intro": "可连接常用数据库，并执行sql",
      "avatar": "core/workflow/template/datasource",
      "flowNodeType": "pluginModule",
      "showStatus": true,
      "position": {
        "x": 2010.9958205106932,
        "y": 6328.482415217651
      },
      "version": "4811",
      "inputs": [
        {
          "key": "system_forbid_stream",
          "renderTypeList": [
            "switch"
          ],
          "valueType": "boolean",
          "label": "禁用流输出",
          "description": "强制设置嵌套运行的应用，均以非流模式运行",
          "value": false,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "select",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "databaseType",
          "label": "databaseType",
          "description": "数据库的类型",
          "defaultValue": "",
          "list": [
            {
              "label": "MySQL",
              "value": "MySQL"
            },
            {
              "label": "PostgreSQL",
              "value": "PostgreSQL"
            }
          ],
          "required": true,
          "value": "MySQL",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "host",
          "label": "host",
          "description": "数据库连接host",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": "192.3.211.151",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "numberInput",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "number",
          "canEdit": false,
          "key": "port",
          "label": "port",
          "description": "数据库连接端口号",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": 3307,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "databaseName",
          "label": "databaseName",
          "description": "数据库名称",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": "FZDB",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "password",
          "label": "password",
          "description": "数据库密码",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "value": "123456",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "user",
          "label": "user",
          "description": "数据库账号",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "value": "root",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "sql",
          "label": "sql",
          "description": "sql语句，可以传入sql语句直接执行",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "toolDescription": "sql语句，可以传入sql语句直接执行",
          "value": "SELECT COUNT(*) FROM {{$g5UG76lJP2U3.qLUQfhG0ILRX$}}",
          "valueDesc": "",
          "debugLabel": ""
        }
      ],
      "outputs": [
        {
          "id": "result",
          "type": "static",
          "key": "result",
          "valueType": "string",
          "label": "result",
          "description": "数据库连接结果",
          "valueDesc": ""
        }
      ],
      "pluginId": "community-databaseConnection"
    },
    {
      "nodeId": "seL0JpmG5dCf",
      "name": "获取模版数量",
      "intro": "执行一段简单的脚本代码，通常用于进行复杂的数据处理。",
      "avatar": "core/workflow/template/codeRun",
      "flowNodeType": "code",
      "showStatus": true,
      "position": {
        "x": 2962.357089035508,
        "y": 6428.982415217651
      },
      "version": "482",
      "inputs": [
        {
          "key": "system_addInputParam",
          "renderTypeList": [
            "addInputParam"
          ],
          "valueType": "dynamic",
          "label": "",
          "required": false,
          "description": "workflow:these_variables_will_be_input_parameters_for_code_execution",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "codeType",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": "js",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "code",
          "renderTypeList": [
            "custom"
          ],
          "label": "",
          "value": "function main({data1}){\n    const data = JSON.parse(data1)\n    const list = data.result;\n    return {\n        list: list,\n        count: list[0]['COUNT(*)']\n    }\n}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "data1",
          "label": "data1",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "pcNsXJZPTBGQ",
            "result"
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "system_rawResponse",
          "key": "system_rawResponse",
          "label": "workflow:full_response_data",
          "valueType": "object",
          "type": "static",
          "description": ""
        },
        {
          "id": "error",
          "key": "error",
          "label": "workflow:execution_error",
          "description": "代码运行错误信息，成功时返回空",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "system_addOutputParam",
          "key": "system_addOutputParam",
          "type": "dynamic",
          "valueType": "dynamic",
          "label": "",
          "customFieldConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": false
          },
          "description": "将代码中 return 的对象作为输出，传递给后续的节点。变量名需要对应 return 的 key",
          "valueDesc": ""
        },
        {
          "id": "gR0mkQpJ4Og8",
          "type": "dynamic",
          "key": "count",
          "valueType": "string",
          "label": "count",
          "valueDesc": "",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "uYVebgQMpvny",
      "name": "随机模版库中的ID",
      "intro": "执行一段简单的脚本代码，通常用于进行复杂的数据处理。",
      "avatar": "core/workflow/template/codeRun",
      "flowNodeType": "code",
      "showStatus": true,
      "position": {
        "x": 3707.0046132061725,
        "y": 6428.982415217651
      },
      "version": "482",
      "inputs": [
        {
          "key": "system_addInputParam",
          "renderTypeList": [
            "addInputParam"
          ],
          "valueType": "dynamic",
          "label": "",
          "required": false,
          "description": "workflow:these_variables_will_be_input_parameters_for_code_execution",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "codeType",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": "js",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "code",
          "renderTypeList": [
            "custom"
          ],
          "label": "",
          "value": "function main({count}) {\n    const random_number = Math.floor(Math.random() * count) + 1;\n    return {count:random_number}\n  }",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "count",
          "label": "count",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "seL0JpmG5dCf",
            "gR0mkQpJ4Og8"
          ]
        }
      ],
      "outputs": [
        {
          "id": "system_rawResponse",
          "key": "system_rawResponse",
          "label": "workflow:full_response_data",
          "valueType": "object",
          "type": "static",
          "description": ""
        },
        {
          "id": "error",
          "key": "error",
          "label": "workflow:execution_error",
          "description": "代码运行错误信息，成功时返回空",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "system_addOutputParam",
          "key": "system_addOutputParam",
          "type": "dynamic",
          "valueType": "dynamic",
          "label": "",
          "customFieldConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": false
          },
          "description": "将代码中 return 的对象作为输出，传递给后续的节点。变量名需要对应 return 的 key",
          "valueDesc": ""
        },
        {
          "id": "kcnUQuapt9e2",
          "valueType": "string",
          "type": "dynamic",
          "key": "count",
          "label": "count"
        }
      ]
    },
    {
      "nodeId": "qlnGr7zcZMqR",
      "name": "数据库连接#2",
      "intro": "可连接常用数据库，并执行sql",
      "avatar": "core/workflow/template/datasource",
      "flowNodeType": "pluginModule",
      "showStatus": true,
      "position": {
        "x": 5269.8897237392575,
        "y": 6314.482415217651
      },
      "version": "4811",
      "inputs": [
        {
          "key": "system_forbid_stream",
          "renderTypeList": [
            "switch"
          ],
          "valueType": "boolean",
          "label": "禁用流输出",
          "description": "强制设置嵌套运行的应用，均以非流模式运行",
          "value": false,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "select",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "databaseType",
          "label": "databaseType",
          "description": "数据库的类型",
          "defaultValue": "",
          "list": [
            {
              "label": "MySQL",
              "value": "MySQL"
            },
            {
              "label": "PostgreSQL",
              "value": "PostgreSQL"
            }
          ],
          "required": true,
          "value": "MySQL",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "host",
          "label": "host",
          "description": "数据库连接host",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": "192.3.211.151",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "numberInput",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "number",
          "canEdit": false,
          "key": "port",
          "label": "port",
          "description": "数据库连接端口号",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": 3307,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "databaseName",
          "label": "databaseName",
          "description": "数据库名称",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": "FZDB",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "password",
          "label": "password",
          "description": "数据库密码",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "value": "123456",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "user",
          "label": "user",
          "description": "数据库账号",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "value": "root",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "sql",
          "label": "sql",
          "description": "sql语句，可以传入sql语句直接执行",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "toolDescription": "sql语句，可以传入sql语句直接执行",
          "value": "SELECT * FROM {{$g5UG76lJP2U3.qLUQfhG0ILRX$}} WHERE ID = {{$uYVebgQMpvny.kcnUQuapt9e2$}}",
          "valueDesc": "",
          "debugLabel": ""
        }
      ],
      "outputs": [
        {
          "id": "result",
          "type": "static",
          "key": "result",
          "valueType": "string",
          "label": "result",
          "description": "数据库连接结果",
          "valueDesc": ""
        }
      ],
      "pluginId": "community-databaseConnection"
    },
    {
      "nodeId": "gDymVH8Vw5RD",
      "name": "代码运行#5",
      "intro": "执行一段简单的脚本代码，通常用于进行复杂的数据处理。",
      "avatar": "core/workflow/template/codeRun",
      "flowNodeType": "code",
      "showStatus": true,
      "position": {
        "x": 6258.149104766791,
        "y": 6428.982415217651
      },
      "version": "482",
      "inputs": [
        {
          "key": "system_addInputParam",
          "renderTypeList": [
            "addInputParam"
          ],
          "valueType": "dynamic",
          "label": "",
          "required": false,
          "description": "workflow:these_variables_will_be_input_parameters_for_code_execution",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "codeType",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": "js",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "code",
          "renderTypeList": [
            "custom"
          ],
          "label": "",
          "value": "function main({data1}){\n    const data = JSON.parse(data1)\n    const json = data.result[0];\n    return {\n        template: json.Template,\n    }\n}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "data1",
          "label": "data1",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "qlnGr7zcZMqR",
            "result"
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "system_rawResponse",
          "key": "system_rawResponse",
          "label": "workflow:full_response_data",
          "valueType": "object",
          "type": "static",
          "description": ""
        },
        {
          "id": "error",
          "key": "error",
          "label": "workflow:execution_error",
          "description": "代码运行错误信息，成功时返回空",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "system_addOutputParam",
          "key": "system_addOutputParam",
          "type": "dynamic",
          "valueType": "dynamic",
          "label": "",
          "customFieldConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": false
          },
          "description": "将代码中 return 的对象作为输出，传递给后续的节点。变量名需要对应 return 的 key",
          "valueDesc": ""
        },
        {
          "id": "qLUQfhG0ILRX",
          "type": "dynamic",
          "key": "template",
          "valueType": "string",
          "label": "template",
          "valueDesc": "",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "aPRgiLBxUBdX",
      "name": "文本拼接",
      "intro": "可对固定或传入的文本进行加工后输出，非字符串类型数据最终会转成字符串类型。",
      "avatar": "core/workflow/template/textConcat",
      "flowNodeType": "textEditor",
      "position": {
        "x": 4363.996406630633,
        "y": 6628.482415217651
      },
      "version": "4813",
      "inputs": [
        {
          "key": "system_textareaInput",
          "renderTypeList": [
            "textarea"
          ],
          "valueType": "string",
          "required": true,
          "label": "拼接文本",
          "placeholder": "workflow:input_variable_list",
          "value": "{{$uYVebgQMpvny.kcnUQuapt9e2$}}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "system_text",
          "key": "system_text",
          "label": "workflow:concatenation_result",
          "type": "static",
          "valueType": "string",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "g5UG76lJP2U3",
      "name": "代码运行#6",
      "intro": "执行一段简单的脚本代码，通常用于进行复杂的数据处理。",
      "avatar": "core/workflow/template/codeRun",
      "flowNodeType": "code",
      "showStatus": true,
      "position": {
        "x": 1117.6009819009041,
        "y": 6388.982415217651
      },
      "version": "482",
      "inputs": [
        {
          "key": "system_addInputParam",
          "renderTypeList": [
            "addInputParam"
          ],
          "valueType": "dynamic",
          "label": "",
          "required": false,
          "description": "workflow:these_variables_will_be_input_parameters_for_code_execution",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "codeType",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": "js",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "code",
          "renderTypeList": [
            "custom"
          ],
          "label": "",
          "value": "function main({ data1, data2 }) {\n    console.log(data2);\n    \n    const topicMap = {\n        '日常话题': 'Daily_Topics',\n        '风格话题': 'Style_Topics',\n        '场景话题': 'Scene_Topics',\n        '功能话题': 'Function_Topics',\n        '好物话题': 'Good_Finds_Topics',\n        '个性话题': 'Personality_Topics'\n    };\n    \n    const topicMap2 = {\n        'ELSE IF 3': 'Daily_Topics',\n        'ELSE IF 4': 'Style_Topics',\n        'ELSE IF 5': 'Scene_Topics',\n        'ELSE IF 6': 'Function_Topics',\n        'ELSE IF 7': 'Good_Finds_Topics',\n        'ELSE IF 8': 'Personality_Topics'\n    };\n    \n   \n    if (data1) {\n        return { tableName: topicMap[data1] };\n    } else {\n        return { tableName: topicMap2[data2] };\n    }\n}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "data1",
          "label": "data1",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "mekT9ws0cp36",
            "selectResult"
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "data2",
          "label": "data2",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "r4Jp7xXN1RJd",
            "ifElseResult"
          ]
        }
      ],
      "outputs": [
        {
          "id": "system_rawResponse",
          "key": "system_rawResponse",
          "label": "workflow:full_response_data",
          "valueType": "object",
          "type": "static",
          "description": ""
        },
        {
          "id": "error",
          "key": "error",
          "label": "workflow:execution_error",
          "description": "代码运行错误信息，成功时返回空",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "system_addOutputParam",
          "key": "system_addOutputParam",
          "type": "dynamic",
          "valueType": "dynamic",
          "label": "",
          "customFieldConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": false
          },
          "description": "将代码中 return 的对象作为输出，传递给后续的节点。变量名需要对应 return 的 key",
          "valueDesc": ""
        },
        {
          "id": "qLUQfhG0ILRX",
          "type": "dynamic",
          "key": "tableName",
          "valueType": "string",
          "label": "tableName",
          "valueDesc": "",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "rI0aT3jjczpe",
      "name": "AI 对话#36",
      "intro": "AI 大模型对话",
      "avatar": "core/workflow/template/aiChat",
      "flowNodeType": "chatNode",
      "showStatus": true,
      "position": {
        "x": 7140.672410116771,
        "y": 6347.982415217651
      },
      "version": "4813",
      "inputs": [
        {
          "key": "model",
          "renderTypeList": [
            "settingLLMModel",
            "reference"
          ],
          "label": "AI 模型",
          "valueType": "string",
          "value": "doubao-pro-128k",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "temperature",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": 0,
          "valueType": "number",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "maxToken",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": 2000,
          "valueType": "number",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "isResponseAnswerText",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": true,
          "valueType": "boolean",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "aiChatQuoteRole",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "value": "system",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quoteTemplate",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quotePrompt",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "aiChatVision",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "boolean",
          "value": true,
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "systemPrompt",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "max": 3000,
          "valueType": "string",
          "label": "提示词",
          "description": "core.app.tip.systemPromptTip",
          "placeholder": "core.app.tip.chatNodeSystemPromptTip",
          "value": "下面是一个文案模版，请根据输入的产品信息，融入到文案模版中去，口语化表述,语言风格要一致，仿照模版文案的行文逻辑，生成一篇文案，文案整体要自然符合实际\n{{$gDymVH8Vw5RD.qLUQfhG0ILRX$}}\n\n注意：文案中不能出现明确的价格信息",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "history",
          "renderTypeList": [
            "numberInput",
            "reference"
          ],
          "valueType": "chatHistory",
          "label": "聊天记录",
          "description": "workflow:max_dialog_rounds",
          "required": true,
          "min": 0,
          "max": 50,
          "value": 1,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quoteQA",
          "renderTypeList": [
            "settingDatasetQuotePrompt"
          ],
          "label": "",
          "debugLabel": "知识库引用",
          "description": "",
          "valueType": "datasetQuote",
          "valueDesc": "",
          "toolDescription": ""
        },
        {
          "key": "fileUrlList",
          "renderTypeList": [
            "reference",
            "input"
          ],
          "label": "文件链接",
          "debugLabel": "文件链接",
          "valueType": "arrayString",
          "value": [
            [
              "448745",
              "userFiles"
            ]
          ],
          "valueDesc": "",
          "description": "",
          "toolDescription": ""
        },
        {
          "key": "userChatInput",
          "renderTypeList": [
            "reference",
            "textarea"
          ],
          "valueType": "string",
          "label": "用户问题",
          "toolDescription": "用户问题",
          "required": true,
          "value": [
            "bMLg4KPsTqeb",
            "system_text"
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": ""
        }
      ],
      "outputs": [
        {
          "id": "history",
          "key": "history",
          "required": true,
          "label": "common:core.module.output.label.New context",
          "description": "将本次回复内容拼接上历史记录，作为新的上下文返回",
          "valueType": "chatHistory",
          "valueDesc": "{\n  obj: System | Human | AI;\n  value: string;\n}[]",
          "type": "static"
        },
        {
          "id": "answerText",
          "key": "answerText",
          "required": true,
          "label": "common:core.module.output.label.Ai response content",
          "description": "将在 stream 回复完毕后触发",
          "valueType": "string",
          "type": "static"
        }
      ]
    },
    {
      "nodeId": "paF98lBtLE4h",
      "name": "数据库连接#4",
      "intro": "可连接常用数据库，并执行sql",
      "avatar": "core/workflow/template/datasource",
      "flowNodeType": "pluginModule",
      "showStatus": true,
      "position": {
        "x": -22457.75979687938,
        "y": 113.51247981212327
      },
      "version": "4811",
      "inputs": [
        {
          "key": "system_forbid_stream",
          "renderTypeList": [
            "switch"
          ],
          "valueType": "boolean",
          "label": "禁用流输出",
          "description": "强制设置嵌套运行的应用，均以非流模式运行",
          "value": false,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "select",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "databaseType",
          "label": "databaseType",
          "description": "数据库的类型",
          "defaultValue": "",
          "list": [
            {
              "label": "MySQL",
              "value": "MySQL"
            },
            {
              "label": "PostgreSQL",
              "value": "PostgreSQL"
            }
          ],
          "required": true,
          "value": "MySQL",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "host",
          "label": "host",
          "description": "数据库连接host",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": "192.3.211.151",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "numberInput",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "number",
          "canEdit": false,
          "key": "port",
          "label": "port",
          "description": "数据库连接端口号",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": 3307,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "databaseName",
          "label": "databaseName",
          "description": "数据库名称",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": "FZDB",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "password",
          "label": "password",
          "description": "数据库密码",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "value": "123456",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "user",
          "label": "user",
          "description": "数据库账号",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "value": "root",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "sql",
          "label": "sql",
          "description": "sql语句，可以传入sql语句直接执行",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "toolDescription": "sql语句，可以传入sql语句直接执行",
          "value": "SELECT brand_id FROM brands WHERE brand_name ='{{$VARIABLE_NODE_ID.品牌$}}'",
          "valueDesc": "",
          "debugLabel": ""
        }
      ],
      "outputs": [
        {
          "id": "result",
          "type": "static",
          "key": "result",
          "valueType": "string",
          "label": "result",
          "description": "数据库连接结果",
          "valueDesc": ""
        }
      ],
      "pluginId": "community-databaseConnection"
    },
    {
      "nodeId": "klyyXkZAI4jW",
      "name": "代码运行#7",
      "intro": "执行一段简单的脚本代码，通常用于进行复杂的数据处理。",
      "avatar": "core/workflow/template/codeRun",
      "flowNodeType": "code",
      "showStatus": true,
      "position": {
        "x": -21580.86656471997,
        "y": 221.01247981212327
      },
      "version": "482",
      "inputs": [
        {
          "key": "system_addInputParam",
          "renderTypeList": [
            "addInputParam"
          ],
          "valueType": "dynamic",
          "label": "",
          "required": false,
          "description": "workflow:these_variables_will_be_input_parameters_for_code_execution",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "codeType",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": "js",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "code",
          "renderTypeList": [
            "custom"
          ],
          "label": "",
          "value": "function main({data1}){\n    const data = JSON.parse(data1)   ;\n    \n    return {\n        result: data.result[0].brand_id,\n        \n    }\n}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "data1",
          "label": "data1",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "paF98lBtLE4h",
            "result"
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "system_rawResponse",
          "key": "system_rawResponse",
          "label": "workflow:full_response_data",
          "valueType": "object",
          "type": "static",
          "description": ""
        },
        {
          "id": "error",
          "key": "error",
          "label": "workflow:execution_error",
          "description": "代码运行错误信息，成功时返回空",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "system_addOutputParam",
          "key": "system_addOutputParam",
          "type": "dynamic",
          "valueType": "dynamic",
          "label": "",
          "customFieldConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": false
          },
          "description": "将代码中 return 的对象作为输出，传递给后续的节点。变量名需要对应 return 的 key",
          "valueDesc": ""
        },
        {
          "id": "qLUQfhG0ILRX",
          "type": "dynamic",
          "key": "result",
          "valueType": "string",
          "label": "result",
          "valueDesc": "",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "dx7qDl6mmPW3",
      "name": "品牌区分",
      "intro": "根据一定的条件，执行不同的分支。",
      "avatar": "core/workflow/template/ifelse",
      "flowNodeType": "ifElseNode",
      "showStatus": true,
      "position": {
        "x": -20825.096817988786,
        "y": 413.5124798121233
      },
      "version": "481",
      "inputs": [
        {
          "key": "ifElseList",
          "renderTypeList": [
            "hidden"
          ],
          "valueType": "any",
          "label": "",
          "value": [
            {
              "condition": "AND",
              "list": [
                {
                  "variable": [
                    "klyyXkZAI4jW",
                    "qLUQfhG0ILRX"
                  ],
                  "condition": "equalTo",
                  "value": "1"
                }
              ]
            }
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "ifElseResult",
          "key": "ifElseResult",
          "label": "workflow:judgment_result",
          "valueType": "string",
          "type": "static",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "otykpQm9nnze",
      "name": "查询品牌产品",
      "intro": "可连接常用数据库，并执行sql",
      "avatar": "core/workflow/template/datasource",
      "flowNodeType": "pluginModule",
      "showStatus": true,
      "position": {
        "x": -19735.455563107498,
        "y": 88.01247981212327
      },
      "version": "4811",
      "inputs": [
        {
          "key": "system_forbid_stream",
          "renderTypeList": [
            "switch"
          ],
          "valueType": "boolean",
          "label": "禁用流输出",
          "description": "强制设置嵌套运行的应用，均以非流模式运行",
          "value": false,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "select",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "databaseType",
          "label": "databaseType",
          "description": "数据库的类型",
          "defaultValue": "",
          "list": [
            {
              "label": "MySQL",
              "value": "MySQL"
            },
            {
              "label": "PostgreSQL",
              "value": "PostgreSQL"
            }
          ],
          "required": true,
          "value": "MySQL",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "host",
          "label": "host",
          "description": "数据库连接host",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": "192.3.211.151",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "numberInput",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "number",
          "canEdit": false,
          "key": "port",
          "label": "port",
          "description": "数据库连接端口号",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": 3307,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "databaseName",
          "label": "databaseName",
          "description": "数据库名称",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": "FZDB",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "password",
          "label": "password",
          "description": "数据库密码",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "value": "123456",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "user",
          "label": "user",
          "description": "数据库账号",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "value": "root",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "sql",
          "label": "sql",
          "description": "sql语句，可以传入sql语句直接执行",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "toolDescription": "sql语句，可以传入sql语句直接执行",
          "value": "SELECT * FROM brands_product WHERE brand_id = 1;",
          "valueDesc": "",
          "debugLabel": ""
        }
      ],
      "outputs": [
        {
          "id": "result",
          "type": "static",
          "key": "result",
          "valueType": "string",
          "label": "result",
          "description": "数据库连接结果",
          "valueDesc": ""
        }
      ],
      "pluginId": "community-databaseConnection"
    },
    {
      "nodeId": "z9vKRmFfvuou",
      "name": "输出产品表格",
      "intro": "执行一段简单的脚本代码，通常用于进行复杂的数据处理。",
      "avatar": "core/workflow/template/codeRun",
      "flowNodeType": "code",
      "showStatus": true,
      "position": {
        "x": -18819.584179491285,
        "y": 164.01247981212327
      },
      "version": "482",
      "inputs": [
        {
          "key": "system_addInputParam",
          "renderTypeList": [
            "addInputParam"
          ],
          "valueType": "dynamic",
          "label": "",
          "required": false,
          "description": "workflow:these_variables_will_be_input_parameters_for_code_execution",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "codeType",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": "js",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "code",
          "renderTypeList": [
            "custom"
          ],
          "label": "",
          "value": "function main({ data1 }) {\n  // 解析 JSON 字符串\n  const parsedData = JSON.parse(data1);\n\n  // 获取 'result' 数组\n  const resultArray = parsedData.result;\n\n  // 存储遍历时的结果\n  const resultList = [];\n\n  // 遍历 resultArray\n  resultArray.forEach(item => {\n    const { brand_id, ...itemWithoutBrandId } = item;\n    resultList.push(itemWithoutBrandId);\n  });\n\n  // 创建 Markdown 表格头\n  const headers = \"| 产品序号 | 产品编号 | 产品名 |\\n|------------|------------|--------------|\";\n  // 拼接表格内容\n  const tableRows = resultList.map(item => {\n    return `| ${item.Product_ID} |  ${item.Product_Number} |${item.Product_Name} |`;\n  }).join('\\n');\n\n  // 组合成最终的 Markdown 表单字符串\n  const markdownTable = `${headers}\\n${tableRows}`;\n\n\n  return {result:markdownTable,\n          resultList:{resultList}\n  };\n}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "data1",
          "label": "data1",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "otykpQm9nnze",
            "result"
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "system_rawResponse",
          "key": "system_rawResponse",
          "label": "workflow:full_response_data",
          "valueType": "object",
          "type": "static",
          "description": ""
        },
        {
          "id": "error",
          "key": "error",
          "label": "workflow:execution_error",
          "description": "代码运行错误信息，成功时返回空",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "system_addOutputParam",
          "key": "system_addOutputParam",
          "type": "dynamic",
          "valueType": "dynamic",
          "label": "",
          "customFieldConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": false
          },
          "description": "将代码中 return 的对象作为输出，传递给后续的节点。变量名需要对应 return 的 key",
          "valueDesc": ""
        },
        {
          "id": "nB4jRqJ5JxAI",
          "valueType": "string",
          "type": "dynamic",
          "key": "result",
          "label": "result"
        },
        {
          "id": "sHe76CQ0GYx3",
          "valueType": "string",
          "type": "dynamic",
          "key": "resultList",
          "label": "resultList"
        }
      ]
    },
    {
      "nodeId": "c5OjtvWDu4bS",
      "name": "指定回复#4",
      "intro": "该模块可以直接回复一段指定的内容。常用于引导、提示。非字符串内容传入时，会转成字符串进行输出。",
      "avatar": "core/workflow/template/reply",
      "flowNodeType": "answerNode",
      "position": {
        "x": -18070.78173327425,
        "y": 418.0124798121233
      },
      "version": "481",
      "inputs": [
        {
          "key": "text",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "valueType": "any",
          "required": true,
          "label": "回复的内容",
          "description": "common:core.module.input.description.Response content",
          "placeholder": "common:core.module.input.description.Response content",
          "value": "🔍🔍 已为您查询到您的产品啦，太棒啦！\n请问您需要为哪一个产品进行文案创作呢？ 😊😊\n\n\n\n",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "aGhQDS7Ywskf",
      "name": "表单输入",
      "intro": "该模块可以配置多种输入，引导用户输入特定内容。",
      "avatar": "core/workflow/template/formInput",
      "flowNodeType": "formInput",
      "position": {
        "x": -16395.087862790788,
        "y": 290.5124798121233
      },
      "version": "4811",
      "inputs": [
        {
          "key": "description",
          "renderTypeList": [
            "textarea"
          ],
          "valueType": "string",
          "label": "说明文字",
          "description": "app:workflow.input_description_tip",
          "placeholder": "app:workflow.form_input_description_placeholder",
          "value": "请输入产品序号或产品编号或产品名❤️",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "custom"
          ],
          "valueType": "any",
          "label": "",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": "",
          "key": "userInputForms",
          "value": [
            {
              "type": "input",
              "key": "输入信息",
              "label": "输入信息",
              "description": "",
              "value": "",
              "defaultValue": "1",
              "valueType": "string",
              "required": false,
              "list": [
                {
                  "label": "",
                  "value": ""
                }
              ]
            }
          ]
        }
      ],
      "outputs": [
        {
          "id": "formInputResult",
          "key": "formInputResult",
          "required": true,
          "label": "workflow:form_input_result",
          "description": "一个包含完整结果的对象",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "输入信息",
          "valueType": "string",
          "key": "输入信息",
          "label": "输入信息",
          "type": "static"
        }
      ]
    },
    {
      "nodeId": "oGsVeLrnpoNZ",
      "name": "判断用户输入的是哪个产品",
      "intro": "执行一段简单的脚本代码，通常用于进行复杂的数据处理。",
      "avatar": "core/workflow/template/codeRun",
      "flowNodeType": "code",
      "showStatus": true,
      "position": {
        "x": -15545.288119949546,
        "y": 83.51247981212327
      },
      "version": "482",
      "inputs": [
        {
          "key": "system_addInputParam",
          "renderTypeList": [
            "addInputParam"
          ],
          "valueType": "dynamic",
          "label": "",
          "required": false,
          "description": "workflow:these_variables_will_be_input_parameters_for_code_execution",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "codeType",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": "js",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "code",
          "renderTypeList": [
            "custom"
          ],
          "label": "",
          "value": "function main({ product_info, userInput }) {\n  // 解析 JSON 对象，假设已经将 product_info 传递为对象参数\n  const dataObject = JSON.parse(product_info);\n\n  // 从 dataObject 获取 resultList 数组\n  const resultList = dataObject.resultList || [];\n\n  // 初始化返回对象\n  const result = { findData: null, unfind: \"数据输入错误\", userOption: null };\n\n  // 遍历 resultList 寻找匹配项\n  for (const product of resultList) {\n    // 遍历 product 对象中的所有键值对\n    for (const key in product) {\n      // 将 product[key] 转换为字符串再进行比较\n      if (String(product[key]) === userInput) {\n        // 如果找到匹配项，设置 findData 并清除 unfind 消息\n        result.findData = product.Product_ID;\n        result.userOption = product.Product_Name;\n        result.unfind =null;\n        result['productNumber'] = product.Product_Number\n        return result;  // 立即返回结果\n      }\n    }\n  }\n\n  // 如果没有匹配项，返回默认的错误消息\n  return result;\n}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "product_info",
          "label": "product_info",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "z9vKRmFfvuou",
            "sHe76CQ0GYx3"
          ]
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "userInput",
          "label": "userInput",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "aGhQDS7Ywskf",
            "输入信息"
          ]
        }
      ],
      "outputs": [
        {
          "id": "system_rawResponse",
          "key": "system_rawResponse",
          "label": "workflow:full_response_data",
          "valueType": "object",
          "type": "static",
          "description": ""
        },
        {
          "id": "error",
          "key": "error",
          "label": "workflow:execution_error",
          "description": "代码运行错误信息，成功时返回空",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "system_addOutputParam",
          "key": "system_addOutputParam",
          "type": "dynamic",
          "valueType": "dynamic",
          "label": "",
          "customFieldConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": false
          },
          "description": "将代码中 return 的对象作为输出，传递给后续的节点。变量名需要对应 return 的 key",
          "valueDesc": ""
        },
        {
          "id": "qLUQfhG0ILRX",
          "type": "dynamic",
          "key": "findData",
          "valueType": "string",
          "label": "findData",
          "valueDesc": "",
          "description": ""
        },
        {
          "id": "gR0mkQpJ4Og8",
          "type": "dynamic",
          "key": "unfind",
          "valueType": "string",
          "label": "unfind",
          "valueDesc": "",
          "description": ""
        },
        {
          "id": "oY3bJ7EcP2cu",
          "valueType": "string",
          "type": "dynamic",
          "key": "userOption",
          "label": "userOption"
        },
        {
          "id": "uxpzz0OwDh3C",
          "valueType": "string",
          "type": "dynamic",
          "key": "productNumber",
          "label": "productNumber"
        },
        {
          "id": "mRMc5iJcMOxW",
          "valueType": "string",
          "type": "dynamic",
          "key": "productCard",
          "label": "productCard"
        }
      ]
    },
    {
      "nodeId": "jl1USZNzLyZG",
      "name": "判断器#3",
      "intro": "根据一定的条件，执行不同的分支。",
      "avatar": "core/workflow/template/ifelse",
      "flowNodeType": "ifElseNode",
      "showStatus": true,
      "position": {
        "x": -14948.922933266374,
        "y": 393.5124798121233
      },
      "version": "481",
      "inputs": [
        {
          "key": "ifElseList",
          "renderTypeList": [
            "hidden"
          ],
          "valueType": "any",
          "label": "",
          "value": [
            {
              "condition": "AND",
              "list": [
                {
                  "variable": [
                    "oGsVeLrnpoNZ",
                    "gR0mkQpJ4Og8"
                  ],
                  "condition": "equalTo",
                  "value": "数据输入错误"
                }
              ]
            }
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "ifElseResult",
          "key": "ifElseResult",
          "label": "workflow:judgment_result",
          "valueType": "string",
          "type": "static",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "p7rxgh6cws4S",
      "name": "指定回复#5",
      "intro": "该模块可以直接回复一段指定的内容。常用于引导、提示。非字符串内容传入时，会转成字符串进行输出。",
      "avatar": "core/workflow/template/reply",
      "flowNodeType": "answerNode",
      "position": {
        "x": -15628.288119949546,
        "y": 1809.511436738629
      },
      "version": "481",
      "inputs": [
        {
          "key": "text",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "valueType": "any",
          "required": true,
          "label": "回复的内容",
          "description": "common:core.module.input.description.Response content",
          "placeholder": "common:core.module.input.description.Response content",
          "value": "❗️您输入的信息有误，请核对后输入📝🔍",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "rtqOjE6G92UN",
      "name": "查找所有需要数据",
      "intro": "可连接常用数据库，并执行sql",
      "avatar": "core/workflow/template/datasource",
      "flowNodeType": "pluginModule",
      "showStatus": true,
      "position": {
        "x": -135.21972047290546,
        "y": 3688.724978687578
      },
      "version": "4811",
      "inputs": [
        {
          "key": "system_forbid_stream",
          "renderTypeList": [
            "switch"
          ],
          "valueType": "boolean",
          "label": "禁用流输出",
          "description": "强制设置嵌套运行的应用，均以非流模式运行",
          "value": false,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "select",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "databaseType",
          "label": "databaseType",
          "description": "数据库的类型",
          "defaultValue": "",
          "list": [
            {
              "label": "MySQL",
              "value": "MySQL"
            },
            {
              "label": "PostgreSQL",
              "value": "PostgreSQL"
            }
          ],
          "required": true,
          "value": "MySQL",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "host",
          "label": "host",
          "description": "数据库连接host",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": "192.3.211.151",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "numberInput",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "number",
          "canEdit": false,
          "key": "port",
          "label": "port",
          "description": "数据库连接端口号",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": 3307,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "databaseName",
          "label": "databaseName",
          "description": "数据库名称",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": "FZDB",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "password",
          "label": "password",
          "description": "数据库密码",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "value": "123456",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "user",
          "label": "user",
          "description": "数据库账号",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "value": "root",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "sql",
          "label": "sql",
          "description": "sql语句，可以传入sql语句直接执行",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "toolDescription": "sql语句，可以传入sql语句直接执行",
          "value": "SELECT * FROM Product_FabDescription WHERE Card = {{$VARIABLE_NODE_ID.产品名对应的ID$}}\nUNION ALL\nSELECT * FROM Product_FabricTagline WHERE Card =  {{$VARIABLE_NODE_ID.产品名对应的ID$}}\nUNION ALL\nSELECT * FROM Product_Process WHERE Card = {{$VARIABLE_NODE_ID.产品名对应的ID$}}\nUNION ALL\nSELECT * FROM Product_SportScenes WHERE Card = {{$VARIABLE_NODE_ID.产品名对应的ID$}}\nUNION ALL\nSELECT * FROM Product_Tagline WHERE Card = {{$VARIABLE_NODE_ID.产品名对应的ID$}}\nUNION ALL\nSELECT * FROM Product_UserPainPoints WHERE Card = {{$VARIABLE_NODE_ID.产品名对应的ID$}}\nUNION ALL\nSELECT * FROM Product_PatternTagline WHERE Card = {{$VARIABLE_NODE_ID.产品名对应的ID$}}\nUNION ALL\nSELECT * FROM Product_Color WHERE Card =\n{{$VARIABLE_NODE_ID.产品名对应的ID$}}\nUNION ALL\nSELECT * FROM Product_DesignTagline WHERE Card = {{$VARIABLE_NODE_ID.产品名对应的ID$}}\nUNION ALL\nSELECT * FROM Product_FabricDescription WHERE Card = {{$VARIABLE_NODE_ID.产品名对应的ID$}};",
          "valueDesc": "",
          "debugLabel": ""
        }
      ],
      "outputs": [
        {
          "id": "result",
          "type": "static",
          "key": "result",
          "valueType": "string",
          "label": "result",
          "description": "数据库连接结果",
          "valueDesc": ""
        }
      ],
      "pluginId": "community-databaseConnection"
    },
    {
      "nodeId": "fD7cnCXZ4o7Q",
      "name": "代码运行#10",
      "intro": "执行一段简单的脚本代码，通常用于进行复杂的数据处理。",
      "avatar": "core/workflow/template/codeRun",
      "flowNodeType": "code",
      "showStatus": true,
      "position": {
        "x": 609.2008147201382,
        "y": 3825.724978687578
      },
      "version": "482",
      "inputs": [
        {
          "key": "system_addInputParam",
          "renderTypeList": [
            "addInputParam"
          ],
          "valueType": "dynamic",
          "label": "",
          "required": false,
          "description": "workflow:these_variables_will_be_input_parameters_for_code_execution",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "codeType",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": "js",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "code",
          "renderTypeList": [
            "custom"
          ],
          "label": "",
          "value": "function main({ data1 }) {\n    // 解析 JSON 字符串\n    const parsedData = JSON.parse(data1);\n  \n    // 获取 'result' 数组\n    const resultArray = parsedData.result;\n  \n    // 创建一个对象用于根据 Tag 分组数据\n    const groupedData = {};\n  \n    // 遍历 resultArray\n    resultArray.forEach(item => {\n        const tag = item.Tag;\n        const productDescription = item.Product_FabDescription;\n\n        // 如果还没有此 Tag 的记录，则初始化一个数组\n        if (!groupedData[tag]) {\n            groupedData[tag] = [tag];\n        }\n        \n        // 将当前项的 Product_FabDescription 添加到对应的 Tag 数组\n        groupedData[tag].push(productDescription);\n    });\n  \n    // 提取结果到一个二维数组\n    const resultList = Object.values(groupedData);\n  \n    // 定义每个二维数组对应的选取条数\n    const selectionCounts = [\n        2,    // index 0\n        1,    // index 1\n        [1, 0], // index 2\n        [2, 1], // index 3\n        [1, 0], // index 4\n        [1, 0], // index 5\n        [1, 0], // index 6\n        [1, 3], // index 7\n        [1, 2], // index 8\n        1     // index 9\n    ];\n  \n    // 创建一个函数来处理随机选择\n    function selectRandomItems(array, count) {\n        if (Array.isArray(count)) {\n            // 随机选择 count 中的一个值\n            count = count[Math.floor(Math.random() * count.length)];\n        }\n        const shuffled = array.slice(1); // 去掉第一个元素\n        shuffled.sort(() => 0.5 - Math.random());\n        return shuffled.slice(0, count);\n    }\n  \n    // 使用随机选择逻辑选择结果\n    const finalResult = resultList.map((subArray, index) => {\n        const chosenItems = selectRandomItems(subArray, selectionCounts[index]);\n        return `${subArray[0]}: ${chosenItems.join(', ')}`;\n    });\n  \n    // 以 \\n 连接结果\n    const dataStr = finalResult.join('\\n');\n\n    // 返回结果格式\n    return { productInput: dataStr };\n}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "data1",
          "label": "data1",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "rtqOjE6G92UN",
            "result"
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "system_rawResponse",
          "key": "system_rawResponse",
          "label": "workflow:full_response_data",
          "valueType": "object",
          "type": "static",
          "description": ""
        },
        {
          "id": "error",
          "key": "error",
          "label": "workflow:execution_error",
          "description": "代码运行错误信息，成功时返回空",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "system_addOutputParam",
          "key": "system_addOutputParam",
          "type": "dynamic",
          "valueType": "dynamic",
          "label": "",
          "customFieldConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": false
          },
          "description": "将代码中 return 的对象作为输出，传递给后续的节点。变量名需要对应 return 的 key",
          "valueDesc": ""
        },
        {
          "id": "qLUQfhG0ILRX",
          "type": "dynamic",
          "key": "productInput",
          "valueType": "string",
          "label": "productInput",
          "valueDesc": "",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "bMLg4KPsTqeb",
      "name": "userquestion",
      "intro": "可对固定或传入的文本进行加工后输出，非字符串类型数据最终会转成字符串类型。",
      "avatar": "core/workflow/template/textConcat",
      "flowNodeType": "textEditor",
      "position": {
        "x": 1224.495553928547,
        "y": 4023.724978687578
      },
      "version": "4813",
      "inputs": [
        {
          "key": "system_textareaInput",
          "renderTypeList": [
            "textarea"
          ],
          "valueType": "string",
          "required": true,
          "label": "拼接文本",
          "placeholder": "workflow:input_variable_list",
          "value": "品牌：{{$tGNqnyazqz1c.qLUQfhG0ILRX$}}\n产品：{{$VARIABLE_NODE_ID.用户查询的产品名$}}\n{{$fD7cnCXZ4o7Q.qLUQfhG0ILRX$}}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "system_text",
          "key": "system_text",
          "label": "workflow:concatenation_result",
          "type": "static",
          "valueType": "string",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "mekT9ws0cp36",
      "name": "话题选择正常逻辑",
      "intro": "该模块可配置多个选项，以供对话时选择。不同选项可导向不同工作流支线",
      "avatar": "core/workflow/template/userSelect",
      "flowNodeType": "userSelect",
      "position": {
        "x": -135.21972047290546,
        "y": 5624.059936077516
      },
      "version": "489",
      "inputs": [
        {
          "key": "description",
          "renderTypeList": [
            "textarea"
          ],
          "valueType": "string",
          "label": "说明文字",
          "description": "app:workflow.select_description_tip",
          "placeholder": "app:workflow.select_description_placeholder",
          "value": "您希望生成哪种话题的内容呢？",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "custom"
          ],
          "valueType": "any",
          "label": "",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": "",
          "key": "userSelectOptions",
          "value": [
            {
              "value": "日常话题",
              "key": "option1"
            },
            {
              "value": "风格话题",
              "key": "option2"
            },
            {
              "value": "场景话题",
              "key": "nvKe7l2rGTsY"
            },
            {
              "value": "功能话题",
              "key": "xy0lYH0Elp4e"
            },
            {
              "value": "好物话题",
              "key": "ixV3brtNbGyu"
            },
            {
              "value": "个性话题",
              "key": "dxI3k8h3v1tV"
            }
          ]
        }
      ],
      "outputs": [
        {
          "id": "selectResult",
          "key": "selectResult",
          "required": true,
          "label": "app:workflow.select_result",
          "valueType": "string",
          "type": "static",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "inIW1Q1h5sV9",
      "name": "数据库连接#7",
      "intro": "可连接常用数据库，并执行sql",
      "avatar": "core/workflow/template/datasource",
      "flowNodeType": "pluginModule",
      "showStatus": true,
      "position": {
        "x": -26152.095597472926,
        "y": 3774.0478534669583
      },
      "version": "4811",
      "inputs": [
        {
          "key": "system_forbid_stream",
          "renderTypeList": [
            "switch"
          ],
          "valueType": "boolean",
          "label": "禁用流输出",
          "description": "强制设置嵌套运行的应用，均以非流模式运行",
          "value": false,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "select",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "databaseType",
          "label": "databaseType",
          "description": "数据库的类型",
          "defaultValue": "",
          "list": [
            {
              "label": "MySQL",
              "value": "MySQL"
            },
            {
              "label": "PostgreSQL",
              "value": "PostgreSQL"
            }
          ],
          "required": true,
          "value": "MySQL",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "host",
          "label": "host",
          "description": "数据库连接host",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": "192.3.211.151",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "numberInput",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "number",
          "canEdit": false,
          "key": "port",
          "label": "port",
          "description": "数据库连接端口号",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": 3307,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "databaseName",
          "label": "databaseName",
          "description": "数据库名称",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": "FZDB",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "password",
          "label": "password",
          "description": "数据库密码",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "value": "123456",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "user",
          "label": "user",
          "description": "数据库账号",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "value": "root",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "sql",
          "label": "sql",
          "description": "sql语句，可以传入sql语句直接执行",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "toolDescription": "sql语句，可以传入sql语句直接执行",
          "value": "SELECT nick_name FROM brands WHERE brand_name ='{{$VARIABLE_NODE_ID.品牌$}}'",
          "valueDesc": "",
          "debugLabel": ""
        }
      ],
      "outputs": [
        {
          "id": "result",
          "type": "static",
          "key": "result",
          "valueType": "string",
          "label": "result",
          "description": "数据库连接结果",
          "valueDesc": ""
        }
      ],
      "pluginId": "community-databaseConnection"
    },
    {
      "nodeId": "tGNqnyazqz1c",
      "name": "品牌的nickNmae",
      "intro": "执行一段简单的脚本代码，通常用于进行复杂的数据处理。",
      "avatar": "core/workflow/template/codeRun",
      "flowNodeType": "code",
      "showStatus": true,
      "position": {
        "x": -25352.31051735918,
        "y": 3851.0478534669583
      },
      "version": "482",
      "inputs": [
        {
          "key": "system_addInputParam",
          "renderTypeList": [
            "addInputParam"
          ],
          "valueType": "dynamic",
          "label": "",
          "required": false,
          "description": "workflow:these_variables_will_be_input_parameters_for_code_execution",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "codeType",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": "js",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "code",
          "renderTypeList": [
            "custom"
          ],
          "label": "",
          "value": "function main({data1}){\n    const data = JSON.parse(data1)\n    const dataresult= data.result\n    return {\n        brand_nickName: dataresult[0].nick_name,\n    \n    }\n}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "data1",
          "label": "data1",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "inIW1Q1h5sV9",
            "result"
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "system_rawResponse",
          "key": "system_rawResponse",
          "label": "workflow:full_response_data",
          "valueType": "object",
          "type": "static",
          "description": ""
        },
        {
          "id": "error",
          "key": "error",
          "label": "workflow:execution_error",
          "description": "代码运行错误信息，成功时返回空",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "system_addOutputParam",
          "key": "system_addOutputParam",
          "type": "dynamic",
          "valueType": "dynamic",
          "label": "",
          "customFieldConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": false
          },
          "description": "将代码中 return 的对象作为输出，传递给后续的节点。变量名需要对应 return 的 key",
          "valueDesc": ""
        },
        {
          "id": "qLUQfhG0ILRX",
          "type": "dynamic",
          "key": "brand_nickName",
          "valueType": "string",
          "label": "brand_nickName",
          "valueDesc": "",
          "description": ""
        },
        {
          "id": "gR0mkQpJ4Og8",
          "type": "dynamic",
          "key": "data2",
          "valueType": "string",
          "label": "data2",
          "valueDesc": "",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "kFuqMUFu8cnP",
      "name": "产品表格",
      "intro": "该模块可以直接回复一段指定的内容。常用于引导、提示。非字符串内容传入时，会转成字符串进行输出。",
      "avatar": "core/workflow/template/reply",
      "flowNodeType": "answerNode",
      "position": {
        "x": -17195.802142142922,
        "y": 440.0124798121233
      },
      "version": "481",
      "inputs": [
        {
          "key": "text",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "valueType": "any",
          "required": true,
          "label": "回复的内容",
          "description": "common:core.module.input.description.Response content",
          "placeholder": "common:core.module.input.description.Response content",
          "value": "{{$z9vKRmFfvuou.nB4jRqJ5JxAI$}}",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "tUOUpm1XvEmv",
      "name": "指定回复#6",
      "intro": "该模块可以直接回复一段指定的内容。常用于引导、提示。非字符串内容传入时，会转成字符串进行输出。",
      "avatar": "core/workflow/template/reply",
      "flowNodeType": "answerNode",
      "position": {
        "x": -23463.63346367522,
        "y": 457.0124798121233
      },
      "version": "481",
      "inputs": [
        {
          "key": "text",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "valueType": "any",
          "required": true,
          "label": "回复的内容",
          "description": "common:core.module.input.description.Response content",
          "placeholder": "common:core.module.input.description.Response content",
          "value": "正在为您查询产品信息，请稍后✨✨\n\n\n\n\n",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "qCl53yONAUSv",
      "name": "指定回复#7",
      "intro": "该模块可以直接回复一段指定的内容。常用于引导、提示。非字符串内容传入时，会转成字符串进行输出。",
      "avatar": "core/workflow/template/reply",
      "flowNodeType": "answerNode",
      "position": {
        "x": -20847.18163678501,
        "y": 1115.887721970672
      },
      "version": "481",
      "inputs": [
        {
          "key": "text",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "valueType": "any",
          "required": true,
          "label": "回复的内容",
          "description": "common:core.module.input.description.Response content",
          "placeholder": "common:core.module.input.description.Response content",
          "value": "❗没有找到您的品牌信息！",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "r4Jp7xXN1RJd",
      "name": "判断器#4",
      "intro": "根据一定的条件，执行不同的分支。",
      "avatar": "core/workflow/template/ifelse",
      "flowNodeType": "ifElseNode",
      "showStatus": true,
      "position": {
        "x": -24048.479297157166,
        "y": 3424.5478534669583
      },
      "version": "481",
      "inputs": [
        {
          "key": "ifElseList",
          "renderTypeList": [
            "hidden"
          ],
          "valueType": "any",
          "label": "",
          "value": [
            {
              "condition": "AND",
              "list": [
                {
                  "variable": [
                    "448745",
                    "userChatInput"
                  ],
                  "condition": "equalTo",
                  "value": "一、直播讲解"
                }
              ]
            },
            {
              "condition": "AND",
              "list": [
                {
                  "variable": [
                    "448745",
                    "userChatInput"
                  ],
                  "condition": "equalTo",
                  "value": "二、品牌营销"
                }
              ]
            },
            {
              "condition": "AND",
              "list": [
                {
                  "variable": [
                    "448745",
                    "userChatInput"
                  ],
                  "condition": "equalTo",
                  "value": "三、口播带货"
                }
              ]
            },
            {
              "condition": "AND",
              "list": [
                {
                  "variable": [
                    "448745",
                    "userChatInput"
                  ],
                  "condition": "equalTo",
                  "value": "日常话题"
                }
              ]
            },
            {
              "condition": "AND",
              "list": [
                {
                  "variable": [
                    "448745",
                    "userChatInput"
                  ],
                  "condition": "equalTo",
                  "value": "风格话题"
                }
              ]
            },
            {
              "condition": "AND",
              "list": [
                {
                  "variable": [
                    "448745",
                    "userChatInput"
                  ],
                  "condition": "equalTo",
                  "value": "场景话题"
                }
              ]
            },
            {
              "condition": "AND",
              "list": [
                {
                  "variable": [
                    "448745",
                    "userChatInput"
                  ],
                  "condition": "equalTo",
                  "value": "功能话题"
                }
              ]
            },
            {
              "condition": "AND",
              "list": [
                {
                  "variable": [
                    "448745",
                    "userChatInput"
                  ],
                  "condition": "equalTo",
                  "value": "好物话题"
                }
              ]
            },
            {
              "condition": "AND",
              "list": [
                {
                  "variable": [
                    "448745",
                    "userChatInput"
                  ],
                  "condition": "equalTo",
                  "value": "个性话题"
                }
              ]
            }
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "ifElseResult",
          "key": "ifElseResult",
          "label": "workflow:judgment_result",
          "valueType": "string",
          "type": "static",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "lZ03Z4bsyxVh",
      "name": "变量更新",
      "intro": "可以更新指定节点的输出值或更新全局变量",
      "avatar": "core/workflow/template/variableUpdate",
      "flowNodeType": "variableUpdate",
      "showStatus": false,
      "position": {
        "x": -2577.815731224459,
        "y": 2083.19424162623
      },
      "version": "481",
      "inputs": [
        {
          "key": "updateList",
          "valueType": "any",
          "label": "",
          "renderTypeList": [
            "hidden"
          ],
          "value": [
            {
              "variable": [
                "VARIABLE_NODE_ID",
                "用户查询的产品名"
              ],
              "value": [
                "",
                "{{$oGsVeLrnpoNZ.oY3bJ7EcP2cu$}}"
              ],
              "valueType": "string",
              "renderType": "input"
            }
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "rS06jmwW17v0",
      "name": "用户选择#6",
      "intro": "该模块可配置多个选项，以供对话时选择。不同选项可导向不同工作流支线",
      "avatar": "core/workflow/template/userSelect",
      "flowNodeType": "userSelect",
      "position": {
        "x": 8355.167021212299,
        "y": 6555.982415217651
      },
      "version": "489",
      "inputs": [
        {
          "key": "description",
          "renderTypeList": [
            "textarea"
          ],
          "valueType": "string",
          "label": "说明文字",
          "description": "app:workflow.select_description_tip",
          "placeholder": "app:workflow.select_description_placeholder",
          "value": "需要批量生成文案吗",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "custom"
          ],
          "valueType": "any",
          "label": "",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": "",
          "key": "userSelectOptions",
          "value": [
            {
              "value": "是",
              "key": "option1"
            },
            {
              "value": "否",
              "key": "option2"
            }
          ]
        }
      ],
      "outputs": [
        {
          "id": "selectResult",
          "key": "selectResult",
          "required": true,
          "label": "app:workflow.select_result",
          "valueType": "string",
          "type": "static",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "rAhwzeB532Gl",
      "name": "表单输入#2",
      "intro": "该模块可以配置多种输入，引导用户输入特定内容。",
      "avatar": "core/workflow/template/formInput",
      "flowNodeType": "formInput",
      "position": {
        "x": 9190.26453994411,
        "y": 6553.982415217651
      },
      "version": "4811",
      "inputs": [
        {
          "key": "description",
          "renderTypeList": [
            "textarea"
          ],
          "valueType": "string",
          "label": "说明文字",
          "description": "app:workflow.input_description_tip",
          "placeholder": "app:workflow.form_input_description_placeholder",
          "value": "请输入您需要生成的文案数量❤️",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "custom"
          ],
          "valueType": "any",
          "label": "",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": "",
          "key": "userInputForms",
          "value": [
            {
              "type": "input",
              "key": "文案数量",
              "label": "文案数量",
              "description": "",
              "value": "",
              "defaultValue": "3",
              "valueType": "string",
              "required": false,
              "list": [
                {
                  "label": "",
                  "value": ""
                }
              ]
            }
          ]
        }
      ],
      "outputs": [
        {
          "id": "formInputResult",
          "key": "formInputResult",
          "required": true,
          "label": "workflow:form_input_result",
          "description": "一个包含完整结果的对象",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "文案数量",
          "valueType": "string",
          "key": "文案数量",
          "label": "文案数量",
          "type": "static"
        }
      ]
    },
    {
      "nodeId": "tx6lcP8MIFWh",
      "name": "AI 对话#37",
      "intro": "AI 大模型对话",
      "avatar": "core/workflow/template/aiChat",
      "flowNodeType": "chatNode",
      "showStatus": true,
      "position": {
        "x": 10043.50011686348,
        "y": 6318.482415217651
      },
      "version": "4813",
      "inputs": [
        {
          "key": "model",
          "renderTypeList": [
            "settingLLMModel",
            "reference"
          ],
          "label": "AI 模型",
          "valueType": "string",
          "value": "doubao-pro-128k",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "temperature",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": 0,
          "valueType": "number",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "maxToken",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": 15600,
          "valueType": "number",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "isResponseAnswerText",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": true,
          "valueType": "boolean",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "aiChatQuoteRole",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "value": "system",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quoteTemplate",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quotePrompt",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "aiChatVision",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "boolean",
          "value": true,
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "systemPrompt",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "max": 3000,
          "valueType": "string",
          "label": "提示词",
          "description": "core.app.tip.systemPromptTip",
          "placeholder": "core.app.tip.chatNodeSystemPromptTip",
          "value": "对输入的文案内容，进行批量仿写，文案内容中，关于产品的相关信息要保持不变,语言要接地气，不可以夸大其词\n\n生成：{{$rAhwzeB532Gl.文案数量$}}篇\n输出格式：\n🌱原文案内容：\n✨生成文案一：\n✨生成文案二：\n...",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "history",
          "renderTypeList": [
            "numberInput",
            "reference"
          ],
          "valueType": "chatHistory",
          "label": "聊天记录",
          "description": "workflow:max_dialog_rounds",
          "required": true,
          "min": 0,
          "max": 50,
          "value": 6,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quoteQA",
          "renderTypeList": [
            "settingDatasetQuotePrompt"
          ],
          "label": "",
          "debugLabel": "知识库引用",
          "description": "",
          "valueType": "datasetQuote",
          "valueDesc": "",
          "toolDescription": ""
        },
        {
          "key": "fileUrlList",
          "renderTypeList": [
            "reference",
            "input"
          ],
          "label": "文件链接",
          "debugLabel": "文件链接",
          "valueType": "arrayString",
          "value": [
            [
              "448745",
              "userFiles"
            ]
          ],
          "valueDesc": "",
          "description": "",
          "toolDescription": ""
        },
        {
          "key": "userChatInput",
          "renderTypeList": [
            "reference",
            "textarea"
          ],
          "valueType": "string",
          "label": "用户问题",
          "toolDescription": "用户问题",
          "required": true,
          "value": [
            "rI0aT3jjczpe",
            "answerText"
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": ""
        }
      ],
      "outputs": [
        {
          "id": "history",
          "key": "history",
          "required": true,
          "label": "common:core.module.output.label.New context",
          "description": "将本次回复内容拼接上历史记录，作为新的上下文返回",
          "valueType": "chatHistory",
          "valueDesc": "{\n  obj: System | Human | AI;\n  value: string;\n}[]",
          "type": "static"
        },
        {
          "id": "answerText",
          "key": "answerText",
          "required": true,
          "label": "common:core.module.output.label.Ai response content",
          "description": "将在 stream 回复完毕后触发",
          "valueType": "string",
          "type": "static"
        }
      ]
    },
    {
      "nodeId": "s0hBrNhbFkAe",
      "name": "指定回复#9",
      "intro": "该模块可以直接回复一段指定的内容。常用于引导、提示。非字符串内容传入时，会转成字符串进行输出。",
      "avatar": "core/workflow/template/reply",
      "flowNodeType": "answerNode",
      "position": {
        "x": 9190.26453994411,
        "y": 7302.31012603904
      },
      "version": "481",
      "inputs": [
        {
          "key": "text",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "valueType": "any",
          "required": true,
          "label": "回复的内容",
          "description": "common:core.module.input.description.Response content",
          "placeholder": "common:core.module.input.description.Response content",
          "value": " ",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "e5GGXbSx9tZE",
      "name": "AI 对话#10",
      "intro": "AI 大模型对话",
      "avatar": "core/workflow/template/aiChat",
      "flowNodeType": "chatNode",
      "showStatus": true,
      "position": {
        "x": 23895.16831569378,
        "y": 2947.269786885625
      },
      "version": "4813",
      "inputs": [
        {
          "key": "model",
          "renderTypeList": [
            "settingLLMModel",
            "reference"
          ],
          "label": "AI 模型",
          "valueType": "string",
          "value": "gpt-4o",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "temperature",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": 0,
          "valueType": "number",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "maxToken",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": 2000,
          "valueType": "number",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "isResponseAnswerText",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": true,
          "valueType": "boolean",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "aiChatQuoteRole",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "value": "system",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quoteTemplate",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quotePrompt",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "aiChatVision",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "boolean",
          "value": true,
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "systemPrompt",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "max": 3000,
          "valueType": "string",
          "label": "提示词",
          "description": "core.app.tip.systemPromptTip",
          "placeholder": "core.app.tip.chatNodeSystemPromptTip",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "history",
          "renderTypeList": [
            "numberInput",
            "reference"
          ],
          "valueType": "chatHistory",
          "label": "聊天记录",
          "description": "workflow:max_dialog_rounds",
          "required": true,
          "min": 0,
          "max": 50,
          "value": 6,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quoteQA",
          "renderTypeList": [
            "settingDatasetQuotePrompt"
          ],
          "label": "",
          "debugLabel": "知识库引用",
          "description": "",
          "valueType": "datasetQuote",
          "valueDesc": "",
          "toolDescription": ""
        },
        {
          "key": "fileUrlList",
          "renderTypeList": [
            "reference",
            "input"
          ],
          "label": "文件链接",
          "debugLabel": "文件链接",
          "valueType": "arrayString",
          "value": [
            [
              "448745",
              "userFiles"
            ]
          ],
          "valueDesc": "",
          "description": "",
          "toolDescription": ""
        },
        {
          "key": "userChatInput",
          "renderTypeList": [
            "reference",
            "textarea"
          ],
          "valueType": "string",
          "label": "用户问题",
          "toolDescription": "用户问题",
          "required": true,
          "value": [
            "448745",
            "userChatInput"
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": ""
        }
      ],
      "outputs": [
        {
          "id": "history",
          "key": "history",
          "required": true,
          "label": "common:core.module.output.label.New context",
          "description": "将本次回复内容拼接上历史记录，作为新的上下文返回",
          "valueType": "chatHistory",
          "valueDesc": "{\n  obj: System | Human | AI;\n  value: string;\n}[]",
          "type": "static"
        },
        {
          "id": "answerText",
          "key": "answerText",
          "required": true,
          "label": "common:core.module.output.label.Ai response content",
          "description": "将在 stream 回复完毕后触发",
          "valueType": "string",
          "type": "static"
        }
      ]
    },
    {
      "nodeId": "iazFVLNvqisx",
      "name": "查找所有需要数据#7",
      "intro": "可连接常用数据库，并执行sql",
      "avatar": "core/workflow/template/datasource",
      "flowNodeType": "pluginModule",
      "showStatus": true,
      "position": {
        "x": 21833.470607176016,
        "y": 2878.269786885625
      },
      "version": "4811",
      "inputs": [
        {
          "key": "system_forbid_stream",
          "renderTypeList": [
            "switch"
          ],
          "valueType": "boolean",
          "label": "禁用流输出",
          "description": "强制设置嵌套运行的应用，均以非流模式运行",
          "value": false,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "select",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "databaseType",
          "label": "databaseType",
          "description": "数据库的类型",
          "defaultValue": "",
          "list": [
            {
              "label": "MySQL",
              "value": "MySQL"
            },
            {
              "label": "PostgreSQL",
              "value": "PostgreSQL"
            }
          ],
          "required": true,
          "value": "MySQL",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "host",
          "label": "host",
          "description": "数据库连接host",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": "192.3.211.151",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "numberInput",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "number",
          "canEdit": false,
          "key": "port",
          "label": "port",
          "description": "数据库连接端口号",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": 3307,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "databaseName",
          "label": "databaseName",
          "description": "数据库名称",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": "FZDB",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "password",
          "label": "password",
          "description": "数据库密码",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "value": "123456",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "user",
          "label": "user",
          "description": "数据库账号",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "value": "root",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "sql",
          "label": "sql",
          "description": "sql语句，可以传入sql语句直接执行",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "toolDescription": "sql语句，可以传入sql语句直接执行",
          "value": "SELECT * FROM Product_FabDescription WHERE Card = \"{{$VARIABLE_NODE_ID.产品名对应的ID$}}\"\nUNION ALL\nSELECT * FROM Product_FabricTagline WHERE Card =  \"{{$VARIABLE_NODE_ID.产品名对应的ID$}}\"\nUNION ALL\nSELECT * FROM Product_Process WHERE Card = \"{{$VARIABLE_NODE_ID.产品名对应的ID$}}\"\nUNION ALL\nSELECT * FROM Product_SportScenes WHERE Card = \"{{$VARIABLE_NODE_ID.产品名对应的ID$}}\"\nUNION ALL\nSELECT * FROM Product_Tagline WHERE Card = \"{{$VARIABLE_NODE_ID.产品名对应的ID$}}\"\nUNION ALL\nSELECT * FROM Product_UserPainPoints WHERE Card = \"{{$VARIABLE_NODE_ID.产品名对应的ID$}}\"\nUNION ALL\nSELECT * FROM Product_patternTagline WHERE Card = \"{{$VARIABLE_NODE_ID.产品名对应的ID$}}\"\nUNION ALL\nSELECT * FROM Product_Color WHERE Card =  \"{{$VARIABLE_NODE_ID.产品名对应的ID$}}\"\nUNION ALL\nSELECT * FROM Product_DesignTagline WHERE Card = \"{{$VARIABLE_NODE_ID.产品名对应的ID$}}\"\nUNION ALL\nSELECT * FROM Product_FabricDescription WHERE Card = \"{{$VARIABLE_NODE_ID.产品名对应的ID$}}\";",
          "valueDesc": "",
          "debugLabel": ""
        }
      ],
      "outputs": [
        {
          "id": "result",
          "type": "static",
          "key": "result",
          "valueType": "string",
          "label": "result",
          "description": "数据库连接结果",
          "valueDesc": ""
        }
      ],
      "pluginId": "community-databaseConnection"
    },
    {
      "nodeId": "x43ma7etCTKP",
      "name": "代码运行#11",
      "intro": "执行一段简单的脚本代码，通常用于进行复杂的数据处理。",
      "avatar": "core/workflow/template/codeRun",
      "flowNodeType": "code",
      "showStatus": true,
      "position": {
        "x": 22909.213039943155,
        "y": 2996.280919578667
      },
      "version": "482",
      "inputs": [
        {
          "key": "system_addInputParam",
          "renderTypeList": [
            "addInputParam"
          ],
          "valueType": "dynamic",
          "label": "",
          "required": false,
          "description": "workflow:these_variables_will_be_input_parameters_for_code_execution",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "codeType",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": "js",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "code",
          "renderTypeList": [
            "custom"
          ],
          "label": "",
          "value": "function main({data1, data2}){\n    \n    return {\n        result: data1,\n        data2\n    }\n}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "data1",
          "label": "data1",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "iazFVLNvqisx",
            "result"
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "system_rawResponse",
          "key": "system_rawResponse",
          "label": "workflow:full_response_data",
          "valueType": "object",
          "type": "static",
          "description": ""
        },
        {
          "id": "error",
          "key": "error",
          "label": "workflow:execution_error",
          "description": "代码运行错误信息，成功时返回空",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "system_addOutputParam",
          "key": "system_addOutputParam",
          "type": "dynamic",
          "valueType": "dynamic",
          "label": "",
          "customFieldConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": false
          },
          "description": "将代码中 return 的对象作为输出，传递给后续的节点。变量名需要对应 return 的 key",
          "valueDesc": ""
        },
        {
          "id": "qLUQfhG0ILRX",
          "type": "dynamic",
          "key": "result",
          "valueType": "string",
          "label": "result",
          "valueDesc": "",
          "description": ""
        },
        {
          "id": "gR0mkQpJ4Og8",
          "type": "dynamic",
          "key": "data2",
          "valueType": "string",
          "label": "data2",
          "valueDesc": "",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "wezV3TyEpOem",
      "name": "变量更新#2",
      "intro": "可以更新指定节点的输出值或更新全局变量",
      "avatar": "core/workflow/template/variableUpdate",
      "flowNodeType": "variableUpdate",
      "showStatus": false,
      "position": {
        "x": -2577.815731224459,
        "y": 2513.362268529023
      },
      "version": "481",
      "inputs": [
        {
          "key": "updateList",
          "valueType": "any",
          "label": "",
          "renderTypeList": [
            "hidden"
          ],
          "value": [
            {
              "variable": [
                "VARIABLE_NODE_ID",
                "产品名对应的ID"
              ],
              "value": [
                "",
                "{{$oGsVeLrnpoNZ.qLUQfhG0ILRX$}}"
              ],
              "valueType": "any",
              "renderType": "input"
            }
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "btWE3VOzY8Vu",
      "name": "循环运行",
      "intro": "可以输入一个数组，数组内元素将独立执行循环体，并将所有结果作为数组输出。",
      "avatar": "core/workflow/template/loop",
      "flowNodeType": "loop",
      "showStatus": true,
      "position": {
        "x": 24284,
        "y": 1280
      },
      "version": "4811",
      "inputs": [
        {
          "key": "loopInputArray",
          "renderTypeList": [
            "reference"
          ],
          "valueType": "arrayString",
          "required": true,
          "label": "数组",
          "value": [
            [
              "c9WPGhQO9UTK",
              "kXoYqjXQyPuv"
            ]
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "childrenNodeIdList",
          "renderTypeList": [
            "hidden"
          ],
          "valueType": "arrayString",
          "label": "",
          "value": [
            "zIiF3JP1Lc4e",
            "wrzXtQYiwDT3",
            "sYM7MVyo3Ngx"
          ]
        },
        {
          "key": "nodeWidth",
          "renderTypeList": [
            "hidden"
          ],
          "valueType": "number",
          "label": "",
          "value": 2368.3760448347966
        },
        {
          "key": "nodeHeight",
          "renderTypeList": [
            "hidden"
          ],
          "valueType": "number",
          "label": "",
          "value": 1165.0000000000002
        },
        {
          "key": "loopNodeInputHeight",
          "renderTypeList": [
            "hidden"
          ],
          "valueType": "number",
          "label": "",
          "value": 83,
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "loopArray",
          "key": "loopArray",
          "label": "workflow:loop_result",
          "type": "static",
          "valueType": "arrayString",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "zIiF3JP1Lc4e",
      "parentNodeId": "btWE3VOzY8Vu",
      "name": "循环体开始",
      "avatar": "core/workflow/template/loopStart",
      "flowNodeType": "loopStart",
      "showStatus": false,
      "position": {
        "x": 24354.044061918845,
        "y": 2052.2765178254854
      },
      "version": "4811",
      "inputs": [
        {
          "key": "loopStartInput",
          "renderTypeList": [
            "hidden"
          ],
          "valueType": "any",
          "label": "",
          "required": true,
          "value": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "loopStartIndex",
          "renderTypeList": [
            "hidden"
          ],
          "valueType": "number",
          "label": "workflow:Array_element_index",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "loopStartIndex",
          "key": "loopStartIndex",
          "label": "workflow:Array_element_index",
          "type": "static",
          "valueType": "number",
          "description": ""
        },
        {
          "id": "loopStartInput",
          "key": "loopStartInput",
          "label": "数组元素",
          "type": "static",
          "valueType": "string"
        }
      ]
    },
    {
      "nodeId": "wrzXtQYiwDT3",
      "parentNodeId": "btWE3VOzY8Vu",
      "name": "循环体结束",
      "avatar": "core/workflow/template/loopEnd",
      "flowNodeType": "loopEnd",
      "showStatus": false,
      "position": {
        "x": 26222.42010675364,
        "y": 2079.501772487709
      },
      "version": "4811",
      "inputs": [
        {
          "key": "loopEndInput",
          "renderTypeList": [
            "reference"
          ],
          "valueType": "any",
          "label": "",
          "required": true,
          "value": [
            "sYM7MVyo3Ngx",
            "answerText"
          ],
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "sYM7MVyo3Ngx",
      "parentNodeId": "btWE3VOzY8Vu",
      "name": "AI 对话#11",
      "intro": "AI 大模型对话",
      "avatar": "core/workflow/template/aiChat",
      "flowNodeType": "chatNode",
      "showStatus": true,
      "position": {
        "x": 25250.60646780066,
        "y": 1602.5017724877086
      },
      "version": "4813",
      "inputs": [
        {
          "key": "model",
          "renderTypeList": [
            "settingLLMModel",
            "reference"
          ],
          "label": "AI 模型",
          "valueType": "string",
          "value": "gpt-4o-mini",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "temperature",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": 0,
          "valueType": "number",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "maxToken",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": 8000,
          "valueType": "number",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "isResponseAnswerText",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": true,
          "valueType": "boolean",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "aiChatQuoteRole",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "value": "system",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quoteTemplate",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quotePrompt",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "aiChatVision",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "boolean",
          "value": true,
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "systemPrompt",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "max": 3000,
          "valueType": "string",
          "label": "提示词",
          "description": "core.app.tip.systemPromptTip",
          "placeholder": "core.app.tip.chatNodeSystemPromptTip",
          "value": "下面是一个文案模板，参考示例模版的行文逻辑，按照要求生成文案\n示例模板：\n/\n文案要求：\n1、工作逻辑要求：将输入的产品信息，融入模版文案的行文逻辑中；\n2、生成的文案内容要求：绝对不可以杜撰，按照实际给到产品信息生成文案；\n3、生成的文案的字数要求： 生成的文案内容不超过100字\n4、生成文案的数量要求：10篇\n5、输出文案的格式要求：\n{\"文案一\":\"文案内容\",\"文案二\":\"文案内容\",...\"文案十\":\"文案内容\"}\n",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "history",
          "renderTypeList": [
            "numberInput",
            "reference"
          ],
          "valueType": "chatHistory",
          "label": "聊天记录",
          "description": "workflow:max_dialog_rounds",
          "required": true,
          "min": 0,
          "max": 50,
          "value": 6,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quoteQA",
          "renderTypeList": [
            "settingDatasetQuotePrompt"
          ],
          "label": "",
          "debugLabel": "知识库引用",
          "description": "",
          "valueType": "datasetQuote",
          "valueDesc": "",
          "toolDescription": ""
        },
        {
          "key": "fileUrlList",
          "renderTypeList": [
            "reference",
            "input"
          ],
          "label": "文件链接",
          "debugLabel": "文件链接",
          "valueType": "arrayString",
          "value": [
            [
              "448745",
              "userFiles"
            ]
          ],
          "valueDesc": "",
          "description": "",
          "toolDescription": ""
        },
        {
          "key": "userChatInput",
          "renderTypeList": [
            "reference",
            "textarea"
          ],
          "valueType": "string",
          "label": "用户问题",
          "toolDescription": "用户问题",
          "required": true,
          "value": [
            "zIiF3JP1Lc4e",
            "loopStartInput"
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": ""
        }
      ],
      "outputs": [
        {
          "id": "history",
          "key": "history",
          "required": true,
          "label": "common:core.module.output.label.New context",
          "description": "将本次回复内容拼接上历史记录，作为新的上下文返回",
          "valueType": "chatHistory",
          "valueDesc": "{\n  obj: System | Human | AI;\n  value: string;\n}[]",
          "type": "static"
        },
        {
          "id": "answerText",
          "key": "answerText",
          "required": true,
          "label": "common:core.module.output.label.Ai response content",
          "description": "将在 stream 回复完毕后触发",
          "valueType": "string",
          "type": "static"
        }
      ]
    },
    {
      "nodeId": "zK4CnZlA4rth",
      "name": "数据库连接#8",
      "intro": "可连接常用数据库，并执行sql",
      "avatar": "core/workflow/template/datasource",
      "flowNodeType": "pluginModule",
      "showStatus": true,
      "position": {
        "x": 21939.09092628858,
        "y": 1636.4008954976953
      },
      "version": "4811",
      "inputs": [
        {
          "key": "system_forbid_stream",
          "renderTypeList": [
            "switch"
          ],
          "valueType": "boolean",
          "label": "禁用流输出",
          "description": "强制设置嵌套运行的应用，均以非流模式运行",
          "value": false,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "select",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "databaseType",
          "label": "databaseType",
          "description": "数据库的类型",
          "defaultValue": "",
          "list": [
            {
              "label": "MySQL",
              "value": "MySQL"
            },
            {
              "label": "PostgreSQL",
              "value": "PostgreSQL"
            }
          ],
          "required": true,
          "value": "MySQL",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "host",
          "label": "host",
          "description": "数据库连接host",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": "192.3.211.151",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "numberInput",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "number",
          "canEdit": false,
          "key": "port",
          "label": "port",
          "description": "数据库连接端口号",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": 3307,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "databaseName",
          "label": "databaseName",
          "description": "数据库名称",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": "FZDB",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "password",
          "label": "password",
          "description": "数据库密码",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "value": "123456",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "user",
          "label": "user",
          "description": "数据库账号",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "value": "root",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "sql",
          "label": "sql",
          "description": "sql语句，可以传入sql语句直接执行",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "toolDescription": "sql语句，可以传入sql语句直接执行",
          "value": "SELECT * FROM `S&W_Marketing`;",
          "valueDesc": "",
          "debugLabel": ""
        }
      ],
      "outputs": [
        {
          "id": "result",
          "type": "static",
          "key": "result",
          "valueType": "string",
          "label": "result",
          "description": "数据库连接结果",
          "valueDesc": ""
        }
      ],
      "pluginId": "community-databaseConnection"
    },
    {
      "nodeId": "c9WPGhQO9UTK",
      "name": "代码运行#13",
      "intro": "执行一段简单的脚本代码，通常用于进行复杂的数据处理。",
      "avatar": "core/workflow/template/codeRun",
      "flowNodeType": "code",
      "showStatus": true,
      "position": {
        "x": 22839.89764067457,
        "y": 1713.4008954976953
      },
      "version": "482",
      "inputs": [
        {
          "key": "system_addInputParam",
          "renderTypeList": [
            "addInputParam"
          ],
          "valueType": "dynamic",
          "label": "",
          "required": false,
          "description": "workflow:these_variables_will_be_input_parameters_for_code_execution",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "codeType",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": "js",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "code",
          "renderTypeList": [
            "custom"
          ],
          "label": "",
          "value": "function main({data1}){\n    const resultJson = JSON.parse(data1)\n    const hhh = resultJson.result\n\n    // 拿到目标信息\n    const clearList = []\n    const templateList = []\n    hhh.forEach(item =>{\n        const  {Template_Class, ...temp} = item\n        clearList.push(temp)\n        templateList.push(temp.Template)\n    })\n\n    return {\n        template_info:clearList,\n        template: templateList.slice(0, 3)\n\n    }\n\n}\n",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "data1",
          "label": "data1",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "zK4CnZlA4rth",
            "result"
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "system_rawResponse",
          "key": "system_rawResponse",
          "label": "workflow:full_response_data",
          "valueType": "object",
          "type": "static",
          "description": ""
        },
        {
          "id": "error",
          "key": "error",
          "label": "workflow:execution_error",
          "description": "代码运行错误信息，成功时返回空",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "system_addOutputParam",
          "key": "system_addOutputParam",
          "type": "dynamic",
          "valueType": "dynamic",
          "label": "",
          "customFieldConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": false
          },
          "description": "将代码中 return 的对象作为输出，传递给后续的节点。变量名需要对应 return 的 key",
          "valueDesc": ""
        },
        {
          "id": "qLUQfhG0ILRX",
          "type": "dynamic",
          "key": "template_info",
          "valueType": "string",
          "label": "template_info",
          "valueDesc": "",
          "description": ""
        },
        {
          "id": "kXoYqjXQyPuv",
          "valueType": "string",
          "type": "dynamic",
          "key": "template",
          "label": "template"
        }
      ]
    },
    {
      "nodeId": "tUi8mDSywA71",
      "name": "代码运行#13",
      "intro": "执行一段简单的脚本代码，通常用于进行复杂的数据处理。",
      "avatar": "core/workflow/template/codeRun",
      "flowNodeType": "code",
      "showStatus": true,
      "position": {
        "x": 19898.71442141888,
        "y": 2069.483366867775
      },
      "version": "482",
      "inputs": [
        {
          "key": "system_addInputParam",
          "renderTypeList": [
            "addInputParam"
          ],
          "valueType": "dynamic",
          "label": "",
          "required": false,
          "description": "workflow:these_variables_will_be_input_parameters_for_code_execution",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "codeType",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": "js",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "code",
          "renderTypeList": [
            "custom"
          ],
          "label": "",
          "value": "function main({ data1 }) {\n    // 解析 JSON 字符串\n    const parsedData = JSON.parse(data1);\n  \n    // 获取 'result' 数组\n    const resultArray = parsedData.result;\n  \n    // 创建一个对象用于根据 Tag 分组数据\n    const groupedData = {};\n  \n    // 遍历 resultArray\n    resultArray.forEach(item => {\n        const tag = item.Tag;\n        const productDescription = item.Product_FabDescription;\n\n        // 如果还没有此 Tag 的记录，则初始化一个数组\n        if (!groupedData[tag]) {\n            groupedData[tag] = [tag];\n        }\n        \n        // 将当前项的 Product_FabDescription 添加到对应的 Tag 数组\n        groupedData[tag].push(productDescription);\n    });\n  \n    // 提取结果到一个二维数组\n    const resultList = Object.values(groupedData);\n  \n    // 定义每个二维数组对应的选取条数\n    const selectionCounts = [\n        2,    // index 0\n        1,    // index 1\n        [1, 0], // index 2\n        [2, 1], // index 3\n        [1, 0], // index 4\n        [1, 0], // index 5\n        [1, 0], // index 6\n        [1, 3], // index 7\n        [1, 2], // index 8\n        1     // index 9\n    ];\n  \n    // 创建一个函数来处理随机选择\n    function selectRandomItems(array, count) {\n        if (Array.isArray(count)) {\n            // 随机选择 count 中的一个值\n            count = count[Math.floor(Math.random() * count.length)];\n        }\n        const shuffled = array.slice(1); // 去掉第一个元素\n        shuffled.sort(() => 0.5 - Math.random());\n        return shuffled.slice(0, count);\n    }\n  \n    // 使用随机选择逻辑选择结果\n    const finalResult = resultList.map((subArray, index) => {\n        const chosenItems = selectRandomItems(subArray, selectionCounts[index]);\n        return `${subArray[0]}: ${chosenItems.join(', ')}`;\n    });\n  \n    // 以 \\n 连接结果\n    const dataStr = finalResult.join('\\n');\n\n    // 返回结果格式\n    return { productInput: dataStr };\n}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "data1",
          "label": "data1",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "VARIABLE_NODE_ID",
            "用户查询的产品名"
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "system_rawResponse",
          "key": "system_rawResponse",
          "label": "workflow:full_response_data",
          "valueType": "object",
          "type": "static",
          "description": ""
        },
        {
          "id": "error",
          "key": "error",
          "label": "workflow:execution_error",
          "description": "代码运行错误信息，成功时返回空",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "system_addOutputParam",
          "key": "system_addOutputParam",
          "type": "dynamic",
          "valueType": "dynamic",
          "label": "",
          "customFieldConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": false
          },
          "description": "将代码中 return 的对象作为输出，传递给后续的节点。变量名需要对应 return 的 key",
          "valueDesc": ""
        },
        {
          "id": "qLUQfhG0ILRX",
          "type": "dynamic",
          "key": "productInput",
          "valueType": "string",
          "label": "productInput",
          "valueDesc": "",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "rHC8V7NMirW9",
      "name": "userquestion#4",
      "intro": "可对固定或传入的文本进行加工后输出，非字符串类型数据最终会转成字符串类型。",
      "avatar": "core/workflow/template/textConcat",
      "flowNodeType": "textEditor",
      "position": {
        "x": 20974.874668739,
        "y": 1931.9008954976953
      },
      "version": "4813",
      "inputs": [
        {
          "key": "system_textareaInput",
          "renderTypeList": [
            "textarea"
          ],
          "valueType": "string",
          "required": true,
          "label": "拼接文本",
          "placeholder": "workflow:input_variable_list",
          "value": "品牌：{{$tGNqnyazqz1c.qLUQfhG0ILRX$}}\n产品：{{$VARIABLE_NODE_ID.用户查询的产品名$}}\n{{$tUi8mDSywA71.qLUQfhG0ILRX$}}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "system_text",
          "key": "system_text",
          "label": "workflow:concatenation_result",
          "type": "static",
          "valueType": "string",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "uGNLmd1iJUXC",
      "name": "代码运行#14",
      "intro": "执行一段简单的脚本代码，通常用于进行复杂的数据处理。",
      "avatar": "core/workflow/template/codeRun",
      "flowNodeType": "code",
      "showStatus": true,
      "position": {
        "x": 27167.867029218578,
        "y": 1524.217596020442
      },
      "version": "482",
      "inputs": [
        {
          "key": "system_addInputParam",
          "renderTypeList": [
            "addInputParam"
          ],
          "valueType": "dynamic",
          "label": "",
          "required": false,
          "description": "workflow:these_variables_will_be_input_parameters_for_code_execution",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "codeType",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": "js",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "code",
          "renderTypeList": [
            "custom"
          ],
          "label": "",
          "value": "function main({ data1, data2, data3 }) {\n    // 给每个 data1 元素添加 productNumber 和AIresponse\n    const updatedDataList = data1.map((item, index) => ({\n        ...item,\n        productNumber: data3,  // 假设 data3 的长度和 data1 的长度是相同的\n        AIresponse: data2[index]       // data2 也是按相同顺序添加\n    }));\n    \n    // 生成 Markdown 表格\n    let mdTable = '| 产品编号 | 模板编号 | 文案内容 |\\n';\n    mdTable += '| -------- | -------- | -------- |\\n'; // 表头下方的分隔线\n\n    updatedDataList.forEach(item => {\n        mdTable += `| ${item.productNumber} | ${item.ID} | ${item.Template} |\\n`;\n    });\n\n    console.log(mdTable); // 输出 Markdown 表格\n    return {\n        result: updatedDataList\n    };\n}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "arrayString",
          "canEdit": true,
          "key": "data1",
          "label": "data1",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            [
              "c9WPGhQO9UTK",
              "qLUQfhG0ILRX"
            ]
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "arrayString",
          "canEdit": true,
          "key": "data2",
          "label": "data2",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            [
              "btWE3VOzY8Vu",
              "loopArray"
            ]
          ]
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "data3",
          "label": "data3",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "oGsVeLrnpoNZ",
            "uxpzz0OwDh3C"
          ]
        }
      ],
      "outputs": [
        {
          "id": "system_rawResponse",
          "key": "system_rawResponse",
          "label": "workflow:full_response_data",
          "valueType": "object",
          "type": "static",
          "description": ""
        },
        {
          "id": "error",
          "key": "error",
          "label": "workflow:execution_error",
          "description": "代码运行错误信息，成功时返回空",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "system_addOutputParam",
          "key": "system_addOutputParam",
          "type": "dynamic",
          "valueType": "dynamic",
          "label": "",
          "customFieldConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": false
          },
          "description": "将代码中 return 的对象作为输出，传递给后续的节点。变量名需要对应 return 的 key",
          "valueDesc": ""
        },
        {
          "id": "qLUQfhG0ILRX",
          "type": "dynamic",
          "key": "result",
          "valueType": "string",
          "label": "result",
          "valueDesc": "",
          "description": ""
        },
        {
          "id": "gR0mkQpJ4Og8",
          "type": "dynamic",
          "key": "data2",
          "valueType": "string",
          "label": "data2",
          "valueDesc": "",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "uzQnxLv2KEmP",
      "name": "代码运行#15",
      "intro": "执行一段简单的脚本代码，通常用于进行复杂的数据处理。",
      "avatar": "core/workflow/template/codeRun",
      "flowNodeType": "code",
      "showStatus": true,
      "position": {
        "x": 13453.885662536639,
        "y": 4342.755967218902
      },
      "version": "482",
      "inputs": [
        {
          "key": "system_addInputParam",
          "renderTypeList": [
            "addInputParam"
          ],
          "valueType": "dynamic",
          "label": "",
          "required": false,
          "description": "workflow:these_variables_will_be_input_parameters_for_code_execution",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "codeType",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": "js",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "code",
          "renderTypeList": [
            "custom"
          ],
          "label": "",
          "value": "function main({ templateListMarketing, data, quanjubianliang}) {\n  console.log(quanjubianliang.length)\n  if (quanjubianliang.length<2){\n    console.log('全局变量为空的！')\n    // 全局变量为空的逻辑\n    // 遍历 templateListMarketing 列表\n    templateListMarketing.forEach((template, index) => {\n      // 如果 copywriter 属性不存在，则初始化为空列表\n      if (!template.copywriter) {\n        template.copywriter = [];\n      }\n      // 检查 data 索引是否存在于 data 数组中\n      if (index < data.length) {\n        // 解析出当前 data 的 JSON 对象\n        const parsedData = JSON.parse(data[index]);\n  \n        // 遍历每个 JSON 对象中的值\n        Object.values(parsedData).forEach(copy => {\n            console.log(index, copy)\n          // 将值添加到 copywriter 列表中\n          template.copywriter.push(copy);\n        });\n      }\n    });\n    // 输出结果以查看修改后的 templateListMarketing\n    return {upgradeData:templateListMarketing};\n  }else{\n    console.log('全局变量不空的！')\n    quanjubianliang.forEach((template, index) => {\n      if (index < data.length) {\n        // 解析出当前 data 的 JSON 对象\n        const parsedData = JSON.parse(data[index]);\n  \n        // 遍历每个 JSON 对象中的值\n        Object.values(parsedData).forEach(copy => {\n            console.log(index, copy)\n          // 将值添加到 copywriter 列表中\n          template.copywriter.push(copy);\n        });\n      }\n  \n    })\n    return {upgradeData:quanjubianliang};\n  \n  } \n}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "arrayString",
          "canEdit": true,
          "key": "data",
          "label": "data",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            [
              "tP4gMb6cVsk6",
              "loopArray"
            ]
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "arrayString",
          "canEdit": true,
          "key": "templateListMarketing",
          "label": "templateListMarketing",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            [
              "VARIABLE_NODE_ID",
              "S&W_Marketing_templateModule"
            ]
          ]
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "arrayObject",
          "canEdit": true,
          "key": "quanjubianliang",
          "label": "quanjubianliang",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            [
              "VARIABLE_NODE_ID",
              "S&W_Marketing_upgradeData"
            ]
          ]
        }
      ],
      "outputs": [
        {
          "id": "system_rawResponse",
          "key": "system_rawResponse",
          "label": "workflow:full_response_data",
          "valueType": "object",
          "type": "static",
          "description": ""
        },
        {
          "id": "error",
          "key": "error",
          "label": "workflow:execution_error",
          "description": "代码运行错误信息，成功时返回空",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "system_addOutputParam",
          "key": "system_addOutputParam",
          "type": "dynamic",
          "valueType": "dynamic",
          "label": "",
          "customFieldConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": false
          },
          "description": "将代码中 return 的对象作为输出，传递给后续的节点。变量名需要对应 return 的 key",
          "valueDesc": ""
        },
        {
          "id": "qLUQfhG0ILRX",
          "type": "dynamic",
          "key": "upgradeData",
          "valueType": "arrayObject",
          "label": "upgradeData",
          "valueDesc": "",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "tP4gMb6cVsk6",
      "name": "循环运行#2",
      "intro": "可以输入一个数组，数组内元素将独立执行循环体，并将所有结果作为数组输出。",
      "avatar": "core/workflow/template/loop",
      "flowNodeType": "loop",
      "showStatus": true,
      "position": {
        "x": 9631.66681148929,
        "y": 415.0474444470176
      },
      "version": "4811",
      "inputs": [
        {
          "key": "loopInputArray",
          "renderTypeList": [
            "reference"
          ],
          "valueType": "arrayString",
          "required": true,
          "label": "数组",
          "value": [
            [
              "VARIABLE_NODE_ID",
              "S&W_Marketing_executeList"
            ]
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "childrenNodeIdList",
          "renderTypeList": [
            "hidden"
          ],
          "valueType": "arrayString",
          "label": "",
          "value": [
            "mVkxlZtFlUIw",
            "iYeWyPjNGxaN",
            "sVQLzK0oYliH",
            "rHkhdEYCD7gV",
            "po9j6TGSPsjk"
          ]
        },
        {
          "key": "nodeWidth",
          "renderTypeList": [
            "hidden"
          ],
          "valueType": "number",
          "label": "",
          "value": 3800.4959191694943
        },
        {
          "key": "nodeHeight",
          "renderTypeList": [
            "hidden"
          ],
          "valueType": "number",
          "label": "",
          "value": 1190
        },
        {
          "key": "loopNodeInputHeight",
          "renderTypeList": [
            "hidden"
          ],
          "valueType": "number",
          "label": "",
          "value": 83,
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "loopArray",
          "key": "loopArray",
          "label": "workflow:loop_result",
          "type": "static",
          "valueType": "arrayString",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "mVkxlZtFlUIw",
      "parentNodeId": "tP4gMb6cVsk6",
      "name": "循环体开始",
      "avatar": "core/workflow/template/loopStart",
      "flowNodeType": "loopStart",
      "showStatus": false,
      "position": {
        "x": 9701.430689412657,
        "y": 1182.6288246940012
      },
      "version": "4811",
      "inputs": [
        {
          "key": "loopStartInput",
          "renderTypeList": [
            "hidden"
          ],
          "valueType": "any",
          "label": "",
          "required": true,
          "value": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "loopStartIndex",
          "renderTypeList": [
            "hidden"
          ],
          "valueType": "number",
          "label": "workflow:Array_element_index",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "loopStartIndex",
          "key": "loopStartIndex",
          "label": "workflow:Array_element_index",
          "type": "static",
          "valueType": "number",
          "description": ""
        },
        {
          "id": "loopStartInput",
          "key": "loopStartInput",
          "label": "数组元素",
          "type": "static",
          "valueType": "string"
        }
      ]
    },
    {
      "nodeId": "iYeWyPjNGxaN",
      "parentNodeId": "tP4gMb6cVsk6",
      "name": "循环体结束",
      "avatar": "core/workflow/template/loopEnd",
      "flowNodeType": "loopEnd",
      "showStatus": false,
      "position": {
        "x": 13001.926608582151,
        "y": 1228.6288246940012
      },
      "version": "4811",
      "inputs": [
        {
          "key": "loopEndInput",
          "renderTypeList": [
            "reference"
          ],
          "valueType": "any",
          "label": "",
          "required": true,
          "value": [
            "po9j6TGSPsjk",
            "answerText"
          ],
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "nAcd1D3JRaX0",
      "name": "查询所有s&w营销模版",
      "intro": "可连接常用数据库，并执行sql",
      "avatar": "core/workflow/template/datasource",
      "flowNodeType": "pluginModule",
      "showStatus": true,
      "position": {
        "x": 5343.401356501581,
        "y": 787.4698820658223
      },
      "version": "4811",
      "inputs": [
        {
          "key": "system_forbid_stream",
          "renderTypeList": [
            "switch"
          ],
          "valueType": "boolean",
          "label": "禁用流输出",
          "description": "强制设置嵌套运行的应用，均以非流模式运行",
          "value": false,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "select",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "databaseType",
          "label": "databaseType",
          "description": "数据库的类型",
          "defaultValue": "",
          "list": [
            {
              "label": "MySQL",
              "value": "MySQL"
            },
            {
              "label": "PostgreSQL",
              "value": "PostgreSQL"
            }
          ],
          "required": true,
          "value": "MySQL",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "host",
          "label": "host",
          "description": "数据库连接host",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": "192.3.211.151",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "numberInput",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "number",
          "canEdit": false,
          "key": "port",
          "label": "port",
          "description": "数据库连接端口号",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": 3307,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "databaseName",
          "label": "databaseName",
          "description": "数据库名称",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": "FZDB",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "password",
          "label": "password",
          "description": "数据库密码",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "value": "123456",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "user",
          "label": "user",
          "description": "数据库账号",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "value": "root",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "sql",
          "label": "sql",
          "description": "sql语句，可以传入sql语句直接执行",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "toolDescription": "sql语句，可以传入sql语句直接执行",
          "value": "SELECT * FROM `S&W_Marketing`  ",
          "valueDesc": "",
          "debugLabel": ""
        }
      ],
      "outputs": [
        {
          "id": "result",
          "type": "static",
          "key": "result",
          "valueType": "string",
          "label": "result",
          "description": "数据库连接结果",
          "valueDesc": ""
        }
      ],
      "pluginId": "community-databaseConnection"
    },
    {
      "nodeId": "m31MWobEheQi",
      "name": "获取所有的模版列表",
      "intro": "执行一段简单的脚本代码，通常用于进行复杂的数据处理。",
      "avatar": "core/workflow/template/codeRun",
      "flowNodeType": "code",
      "showStatus": true,
      "position": {
        "x": 6012.489222868866,
        "y": 881.4698820658223
      },
      "version": "482",
      "inputs": [
        {
          "key": "system_addInputParam",
          "renderTypeList": [
            "addInputParam"
          ],
          "valueType": "dynamic",
          "label": "",
          "required": false,
          "description": "workflow:these_variables_will_be_input_parameters_for_code_execution",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "codeType",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": "js",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "code",
          "renderTypeList": [
            "custom"
          ],
          "label": "",
          "value": "function main({data1}){\n\n    const dataJson = JSON.parse(data1)\n    const dataList = dataJson.result\n    const templateList = []\n    dataList.forEach( item =>{\n        const {Template_Class,...TemplateInfo} = item\n        templateList.push(TemplateInfo)\n    })\n\n    return {templateListMarketing:templateList}\n}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "data1",
          "label": "data1",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "nAcd1D3JRaX0",
            "result"
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "system_rawResponse",
          "key": "system_rawResponse",
          "label": "workflow:full_response_data",
          "valueType": "object",
          "type": "static",
          "description": ""
        },
        {
          "id": "error",
          "key": "error",
          "label": "workflow:execution_error",
          "description": "代码运行错误信息，成功时返回空",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "system_addOutputParam",
          "key": "system_addOutputParam",
          "type": "dynamic",
          "valueType": "dynamic",
          "label": "",
          "customFieldConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": false
          },
          "description": "将代码中 return 的对象作为输出，传递给后续的节点。变量名需要对应 return 的 key",
          "valueDesc": ""
        },
        {
          "id": "qLUQfhG0ILRX",
          "type": "dynamic",
          "key": "templateListMarketing",
          "valueType": "string",
          "label": "templateListMarketing",
          "valueDesc": "",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "sVQLzK0oYliH",
      "parentNodeId": "tP4gMb6cVsk6",
      "name": "代码运行#20",
      "intro": "执行一段简单的脚本代码，通常用于进行复杂的数据处理。",
      "avatar": "core/workflow/template/codeRun",
      "flowNodeType": "code",
      "showStatus": true,
      "position": {
        "x": 11169.901374165736,
        "y": 848.6288246940014
      },
      "version": "482",
      "inputs": [
        {
          "key": "system_addInputParam",
          "renderTypeList": [
            "addInputParam"
          ],
          "valueType": "dynamic",
          "label": "",
          "required": false,
          "description": "workflow:these_variables_will_be_input_parameters_for_code_execution",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "codeType",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": "js",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "code",
          "renderTypeList": [
            "custom"
          ],
          "label": "",
          "value": "function main({xiabiao,templateListMarketing}){\n    let num = parseInt(xiabiao)\n    console.log(templateListMarketing)\n    return {\n        template: templateListMarketing[num].Template\n        \n    }\n}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "xiabiao",
          "label": "xiabiao",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "rHkhdEYCD7gV",
            "system_text"
          ]
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "arrayString",
          "canEdit": true,
          "key": "templateListMarketing",
          "label": "templateListMarketing",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            [
              "VARIABLE_NODE_ID",
              "S&W_Marketing_templateModule"
            ]
          ]
        }
      ],
      "outputs": [
        {
          "id": "system_rawResponse",
          "key": "system_rawResponse",
          "label": "workflow:full_response_data",
          "valueType": "object",
          "type": "static",
          "description": ""
        },
        {
          "id": "error",
          "key": "error",
          "label": "workflow:execution_error",
          "description": "代码运行错误信息，成功时返回空",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "system_addOutputParam",
          "key": "system_addOutputParam",
          "type": "dynamic",
          "valueType": "dynamic",
          "label": "",
          "customFieldConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": false
          },
          "description": "将代码中 return 的对象作为输出，传递给后续的节点。变量名需要对应 return 的 key",
          "valueDesc": ""
        },
        {
          "id": "qLUQfhG0ILRX",
          "type": "dynamic",
          "key": "template",
          "valueType": "string",
          "label": "template",
          "valueDesc": "",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "rHkhdEYCD7gV",
      "parentNodeId": "tP4gMb6cVsk6",
      "name": "获取当前的下表",
      "intro": "可对固定或传入的文本进行加工后输出，非字符串类型数据最终会转成字符串类型。",
      "avatar": "core/workflow/template/textConcat",
      "flowNodeType": "textEditor",
      "position": {
        "x": 10337.162855973926,
        "y": 1093.6288246940012
      },
      "version": "4813",
      "inputs": [
        {
          "key": "system_textareaInput",
          "renderTypeList": [
            "textarea"
          ],
          "valueType": "string",
          "required": true,
          "label": "拼接文本",
          "placeholder": "workflow:input_variable_list",
          "value": "{{$mVkxlZtFlUIw.loopStartIndex$}}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "system_text",
          "key": "system_text",
          "label": "workflow:concatenation_result",
          "type": "static",
          "valueType": "string",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "po9j6TGSPsjk",
      "parentNodeId": "tP4gMb6cVsk6",
      "name": "AI 对话#12",
      "intro": "AI 大模型对话",
      "avatar": "core/workflow/template/aiChat",
      "flowNodeType": "chatNode",
      "showStatus": true,
      "position": {
        "x": 12055.910520889933,
        "y": 737.6288246940012
      },
      "version": "4813",
      "inputs": [
        {
          "key": "model",
          "renderTypeList": [
            "settingLLMModel",
            "reference"
          ],
          "label": "AI 模型",
          "valueType": "string",
          "value": "doubao-pro-128k",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "temperature",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": 0,
          "valueType": "number",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "maxToken",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": 2000,
          "valueType": "number",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "isResponseAnswerText",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": false,
          "valueType": "boolean",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "aiChatQuoteRole",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "value": "system",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quoteTemplate",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quotePrompt",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "string",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "aiChatVision",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "valueType": "boolean",
          "value": true,
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "systemPrompt",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "max": 3000,
          "valueType": "string",
          "label": "提示词",
          "description": "core.app.tip.systemPromptTip",
          "placeholder": "core.app.tip.chatNodeSystemPromptTip",
          "value": "请参考文案模版的行文逻辑，将输入的产品信息经过处理后，融入模版中，生成一篇文案内容，不要用长句，简洁一点，语言风格偏营销。\n文案模版如下：\n\n{{$sVQLzK0oYliH.qLUQfhG0ILRX$}}\n文案要求：\n1、工作逻辑要求：依据输入的产品信息，仿照模版的行文逻辑，生成文案；\n3、生成的文案的字数要求： 生成的文案内容不超过100字\n4、生成文案的数量要求：2篇\n5、输出文案的格式要求：\n{\"文案一\":\"文案内容\",\"文案二\":\"文案内容\"}\n",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "history",
          "renderTypeList": [
            "numberInput",
            "reference"
          ],
          "valueType": "chatHistory",
          "label": "聊天记录",
          "description": "workflow:max_dialog_rounds",
          "required": true,
          "min": 0,
          "max": 50,
          "value": 0,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "quoteQA",
          "renderTypeList": [
            "settingDatasetQuotePrompt"
          ],
          "label": "",
          "debugLabel": "知识库引用",
          "description": "",
          "valueType": "datasetQuote",
          "valueDesc": "",
          "toolDescription": ""
        },
        {
          "key": "fileUrlList",
          "renderTypeList": [
            "reference",
            "input"
          ],
          "label": "文件链接",
          "debugLabel": "文件链接",
          "valueType": "arrayString",
          "value": [],
          "valueDesc": "",
          "description": "",
          "toolDescription": ""
        },
        {
          "key": "userChatInput",
          "renderTypeList": [
            "reference",
            "textarea"
          ],
          "valueType": "string",
          "label": "用户问题",
          "toolDescription": "用户问题",
          "required": true,
          "value": [
            "mVkxlZtFlUIw",
            "loopStartInput"
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "selectedTypeIndex": 0
        }
      ],
      "outputs": [
        {
          "id": "history",
          "key": "history",
          "required": true,
          "label": "common:core.module.output.label.New context",
          "description": "将本次回复内容拼接上历史记录，作为新的上下文返回",
          "valueType": "chatHistory",
          "valueDesc": "{\n  obj: System | Human | AI;\n  value: string;\n}[]",
          "type": "static"
        },
        {
          "id": "answerText",
          "key": "answerText",
          "required": true,
          "label": "common:core.module.output.label.Ai response content",
          "description": "将在 stream 回复完毕后触发",
          "valueType": "string",
          "type": "static"
        }
      ]
    },
    {
      "nodeId": "wy92wT3OmpOc",
      "name": "查找所有需要数据#12",
      "intro": "可连接常用数据库，并执行sql",
      "avatar": "core/workflow/template/datasource",
      "flowNodeType": "pluginModule",
      "showStatus": true,
      "position": {
        "x": 691.1634927551454,
        "y": 732.2889341386947
      },
      "version": "4811",
      "inputs": [
        {
          "key": "system_forbid_stream",
          "renderTypeList": [
            "switch"
          ],
          "valueType": "boolean",
          "label": "禁用流输出",
          "description": "强制设置嵌套运行的应用，均以非流模式运行",
          "value": false,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "select",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "databaseType",
          "label": "databaseType",
          "description": "数据库的类型",
          "defaultValue": "",
          "list": [
            {
              "label": "MySQL",
              "value": "MySQL"
            },
            {
              "label": "PostgreSQL",
              "value": "PostgreSQL"
            }
          ],
          "required": true,
          "value": "MySQL",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "host",
          "label": "host",
          "description": "数据库连接host",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": "192.3.211.151",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "numberInput",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "number",
          "canEdit": false,
          "key": "port",
          "label": "port",
          "description": "数据库连接端口号",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": 3307,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "databaseName",
          "label": "databaseName",
          "description": "数据库名称",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": "FZDB",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "password",
          "label": "password",
          "description": "数据库密码",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "value": "123456",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "user",
          "label": "user",
          "description": "数据库账号",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "value": "root",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "sql",
          "label": "sql",
          "description": "sql语句，可以传入sql语句直接执行",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "toolDescription": "sql语句，可以传入sql语句直接执行",
          "value": "SELECT * FROM Product_FabDescription WHERE Card = {{$VARIABLE_NODE_ID.产品名对应的ID$}}\nUNION ALL\nSELECT * FROM Product_FabricTagline WHERE Card =  {{$VARIABLE_NODE_ID.产品名对应的ID$}}\nUNION ALL\nSELECT * FROM Product_Process WHERE Card = {{$VARIABLE_NODE_ID.产品名对应的ID$}}\nUNION ALL\nSELECT * FROM Product_SportScenes WHERE Card = {{$VARIABLE_NODE_ID.产品名对应的ID$}}\nUNION ALL\nSELECT * FROM Product_Tagline WHERE Card = {{$VARIABLE_NODE_ID.产品名对应的ID$}}\nUNION ALL\nSELECT * FROM Product_UserPainPoints WHERE Card = {{$VARIABLE_NODE_ID.产品名对应的ID$}}\nUNION ALL\nSELECT * FROM Product_PatternTagline WHERE Card = {{$VARIABLE_NODE_ID.产品名对应的ID$}}\nUNION ALL\nSELECT * FROM Product_DesignTagline WHERE Card = {{$VARIABLE_NODE_ID.产品名对应的ID$}}\nUNION ALL\nSELECT * FROM Product_FabricDescription WHERE Card = {{$VARIABLE_NODE_ID.产品名对应的ID$}};",
          "valueDesc": "",
          "debugLabel": ""
        }
      ],
      "outputs": [
        {
          "id": "result",
          "type": "static",
          "key": "result",
          "valueType": "string",
          "label": "result",
          "description": "数据库连接结果",
          "valueDesc": ""
        }
      ],
      "pluginId": "community-databaseConnection"
    },
    {
      "nodeId": "kNX6kT7F42wF",
      "name": "代码运行#19",
      "intro": "执行一段简单的脚本代码，通常用于进行复杂的数据处理。",
      "avatar": "core/workflow/template/codeRun",
      "flowNodeType": "code",
      "showStatus": true,
      "position": {
        "x": 2188.321451073853,
        "y": 806.9698820658225
      },
      "version": "482",
      "inputs": [
        {
          "key": "system_addInputParam",
          "renderTypeList": [
            "addInputParam"
          ],
          "valueType": "dynamic",
          "label": "",
          "required": false,
          "description": "workflow:these_variables_will_be_input_parameters_for_code_execution",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "codeType",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": "js",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "code",
          "renderTypeList": [
            "custom"
          ],
          "label": "",
          "value": "function main({ data1, data2 }) {\n    // 解析 JSON 字符串\n    const parsedData = JSON.parse(data1);\n\n    // 获取 'result' 数组\n    const resultArray = parsedData.result;\n\n    // 创建一个对象用于根据 Tag 分组数据\n    const groupedData = {};\n\n    // 遍历 resultArray\n    resultArray.forEach(item => {\n        const tag = item.Tag;\n        const productDescription = item.Product_FabDescription;\n\n        // 如果还没有此 Tag 的记录，则初始化一个数组\n        if (!groupedData[tag]) {\n            groupedData[tag] = [];\n        }\n\n        // 将当前项的 Product_FabDescription 添加到对应的 Tag 数组\n        groupedData[tag].push(productDescription);\n    });\n\n    // 提取结果到一个二维数组\n    const resultList = Object.entries(groupedData).map(([tag, descriptions]) => [tag, ...descriptions]);\n\n    // 定义每个二维数组对应的选取条数\n    const selectionCounts = [\n        2,    // index 0 :FAB 产品解说\n        1,    // index 1:面料宣传\n        1,    // index 2:工艺\n        2,    // index 3：运动场景\n        1,    // index 4：一句话宣传\n        1,    // index 5：用户痛点\n        1,    // index 6：版型宣传\n        2,    // index 7：设计宣传\n        1,    // index 8：面料解说\n    ];\n\n    // 创建一个函数来处理随机选择\n    function selectRandomItems(array, count) {\n        if (Array.isArray(count)) {\n            // 随机选择 count 中的一个值\n            count = count[Math.floor(Math.random() * count.length)];\n        }\n        const shuffled = array.slice(); // 复制数组\n        shuffled.sort(() => 0.5 - Math.random());\n        return shuffled.slice(0, count);\n    }\n\n    // 使用随机选择逻辑选择结果\n    const finalResult = resultList.map((subArray, index) => {\n        const chosenItems = selectRandomItems(subArray.slice(1), selectionCounts[index]);\n        return `${subArray[0]}: ${chosenItems.join(', ')}`;\n    });\n\n    // 以 \\n 连接结果\n    const dataStr = finalResult.join('\\n');\n    let randomNum = Math.random();\n    let outputStr = '';\n\n    // 判断随机数是否大于0.5，从而决定输出结果\n    if (randomNum >= 0.5) {\n        outputStr = dataStr + '\\n' + `颜色：${data2}`;\n    } else {\n        outputStr = dataStr + '\\n' + \"无颜色\";\n    }\n\n    // 返回结果格式\n    return { productInput: outputStr };\n}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "data1",
          "label": "data1",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "VARIABLE_NODE_ID",
            "S&W_Marketing_sqlInputData"
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "data2",
          "label": "data2",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "VARIABLE_NODE_ID",
            "userSelectProductColor"
          ]
        }
      ],
      "outputs": [
        {
          "id": "system_rawResponse",
          "key": "system_rawResponse",
          "label": "workflow:full_response_data",
          "valueType": "object",
          "type": "static",
          "description": ""
        },
        {
          "id": "error",
          "key": "error",
          "label": "workflow:execution_error",
          "description": "代码运行错误信息，成功时返回空",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "system_addOutputParam",
          "key": "system_addOutputParam",
          "type": "dynamic",
          "valueType": "dynamic",
          "label": "",
          "customFieldConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": false
          },
          "description": "将代码中 return 的对象作为输出，传递给后续的节点。变量名需要对应 return 的 key",
          "valueDesc": ""
        },
        {
          "id": "qLUQfhG0ILRX",
          "type": "dynamic",
          "key": "productInput",
          "valueType": "string",
          "label": "productInput",
          "valueDesc": "",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "iI5ua4SNfOif",
      "name": "userquestion#5",
      "intro": "可对固定或传入的文本进行加工后输出，非字符串类型数据最终会转成字符串类型。",
      "avatar": "core/workflow/template/textConcat",
      "flowNodeType": "textEditor",
      "position": {
        "x": 3034.137684072149,
        "y": 1069.9698820658225
      },
      "version": "4813",
      "inputs": [
        {
          "key": "system_textareaInput",
          "renderTypeList": [
            "textarea"
          ],
          "valueType": "string",
          "required": true,
          "label": "拼接文本",
          "placeholder": "workflow:input_variable_list",
          "value": "品牌：{{$tGNqnyazqz1c.qLUQfhG0ILRX$}}\n产品：{{$VARIABLE_NODE_ID.用户查询的产品名$}}\n{{$kNX6kT7F42wF.qLUQfhG0ILRX$}}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "system_text",
          "key": "system_text",
          "label": "workflow:concatenation_result",
          "type": "static",
          "valueType": "string",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "wsohQev6kVF2",
      "name": "构造输入列表",
      "intro": "执行一段简单的脚本代码，通常用于进行复杂的数据处理。",
      "avatar": "core/workflow/template/codeRun",
      "flowNodeType": "code",
      "showStatus": true,
      "position": {
        "x": 3742.703700088786,
        "y": 870.9698820658225
      },
      "version": "482",
      "inputs": [
        {
          "key": "system_addInputParam",
          "renderTypeList": [
            "addInputParam"
          ],
          "valueType": "dynamic",
          "label": "",
          "required": false,
          "description": "workflow:these_variables_will_be_input_parameters_for_code_execution",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "codeType",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": "js",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "code",
          "renderTypeList": [
            "custom"
          ],
          "label": "",
          "value": "function main({data1}){\n    const inputStr  = data1\n    const inputArr = []\n    for(let i =0; i<10; i++){\n        inputArr.push(inputStr)\n    }\n\n    return {ProductInputInfo: inputArr}\n}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "data1",
          "label": "data1",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "iI5ua4SNfOif",
            "system_text"
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "system_rawResponse",
          "key": "system_rawResponse",
          "label": "workflow:full_response_data",
          "valueType": "object",
          "type": "static",
          "description": ""
        },
        {
          "id": "error",
          "key": "error",
          "label": "workflow:execution_error",
          "description": "代码运行错误信息，成功时返回空",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "system_addOutputParam",
          "key": "system_addOutputParam",
          "type": "dynamic",
          "valueType": "dynamic",
          "label": "",
          "customFieldConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": false
          },
          "description": "将代码中 return 的对象作为输出，传递给后续的节点。变量名需要对应 return 的 key",
          "valueDesc": ""
        },
        {
          "id": "qLUQfhG0ILRX",
          "type": "dynamic",
          "key": "ProductInputInfo",
          "valueType": "arrayString",
          "label": "ProductInputInfo",
          "valueDesc": "",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "c87ObIR97FDn",
      "name": "用户选择#6",
      "intro": "该模块可配置多个选项，以供对话时选择。不同选项可导向不同工作流支线",
      "avatar": "core/workflow/template/userSelect",
      "flowNodeType": "userSelect",
      "position": {
        "x": 15056.776178755745,
        "y": 4550.755967218902
      },
      "version": "489",
      "inputs": [
        {
          "key": "description",
          "renderTypeList": [
            "textarea"
          ],
          "valueType": "string",
          "label": "说明文字",
          "description": "app:workflow.select_description_tip",
          "placeholder": "app:workflow.select_description_placeholder",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": "",
          "value": "20篇文案生成完毕啦！🎉🎉🎉\n若您选择“是”✅，则我将继续为您累加生成20条文案；\n若您选择“否”❌，则生成的文案内容，会转为表格📊，瞬间搞定哦！"
        },
        {
          "renderTypeList": [
            "custom"
          ],
          "valueType": "any",
          "label": "",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": "",
          "key": "userSelectOptions",
          "value": [
            {
              "value": "是",
              "key": "option1"
            },
            {
              "value": "否",
              "key": "option2"
            }
          ]
        }
      ],
      "outputs": [
        {
          "id": "selectResult",
          "key": "selectResult",
          "required": true,
          "label": "app:workflow.select_result",
          "valueType": "string",
          "type": "static",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "lb8XOPYVnQD0",
      "name": "变量更新#6",
      "intro": "可以更新指定节点的输出值或更新全局变量",
      "avatar": "core/workflow/template/variableUpdate",
      "flowNodeType": "variableUpdate",
      "showStatus": false,
      "position": {
        "x": 14167.533617298048,
        "y": 4695.755967218902
      },
      "version": "481",
      "inputs": [
        {
          "key": "updateList",
          "valueType": "any",
          "label": "",
          "renderTypeList": [
            "hidden"
          ],
          "value": [
            {
              "variable": [
                "VARIABLE_NODE_ID",
                "S&W_Marketing_upgradeData"
              ],
              "value": [
                [
                  "uzQnxLv2KEmP",
                  "qLUQfhG0ILRX"
                ]
              ],
              "valueType": "arrayObject",
              "renderType": "reference"
            }
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "xTqOLvianEBJ",
      "name": "全局变量更新：输入列表",
      "intro": "可以更新指定节点的输出值或更新全局变量",
      "avatar": "core/workflow/template/variableUpdate",
      "flowNodeType": "variableUpdate",
      "showStatus": false,
      "position": {
        "x": 4374.384091047489,
        "y": 1126.9698820658225
      },
      "version": "481",
      "inputs": [
        {
          "key": "updateList",
          "valueType": "any",
          "label": "",
          "renderTypeList": [
            "hidden"
          ],
          "value": [
            {
              "variable": [
                "VARIABLE_NODE_ID",
                "S&W_Marketing_executeList"
              ],
              "value": [
                [
                  "wsohQev6kVF2",
                  "qLUQfhG0ILRX"
                ]
              ],
              "valueType": "string",
              "renderType": "reference"
            }
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "rikWYIhCnwgj",
      "name": "变量更新#7",
      "intro": "可以更新指定节点的输出值或更新全局变量",
      "avatar": "core/workflow/template/variableUpdate",
      "flowNodeType": "variableUpdate",
      "showStatus": false,
      "position": {
        "x": 1481.214686742498,
        "y": 1098.2889341386947
      },
      "version": "481",
      "inputs": [
        {
          "key": "updateList",
          "valueType": "any",
          "label": "",
          "renderTypeList": [
            "hidden"
          ],
          "value": [
            {
              "variable": [
                "VARIABLE_NODE_ID",
                "S&W_Marketing_sqlInputData"
              ],
              "value": [
                "",
                "{{$wy92wT3OmpOc.result$}}"
              ],
              "valueType": "string",
              "renderType": "input"
            }
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "gSLj0RfB1gHA",
      "name": "代码运行#22",
      "intro": "执行一段简单的脚本代码，通常用于进行复杂的数据处理。",
      "avatar": "core/workflow/template/codeRun",
      "flowNodeType": "code",
      "showStatus": true,
      "position": {
        "x": 6398.369955313927,
        "y": 4409.108555967637
      },
      "version": "482",
      "inputs": [
        {
          "key": "system_addInputParam",
          "renderTypeList": [
            "addInputParam"
          ],
          "valueType": "dynamic",
          "label": "",
          "required": false,
          "description": "workflow:these_variables_will_be_input_parameters_for_code_execution",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "codeType",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": "js",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "code",
          "renderTypeList": [
            "custom"
          ],
          "label": "",
          "value": "function main({ data1, data2 }) {\n    // 解析 JSON 字符串\n    const parsedData = JSON.parse(data1);\n\n    // 获取 'result' 数组\n    const resultArray = parsedData.result;\n\n    // 创建一个对象用于根据 Tag 分组数据\n    const groupedData = {};\n\n    // 遍历 resultArray\n    resultArray.forEach(item => {\n        const tag = item.Tag;\n        const productDescription = item.Product_FabDescription;\n\n        // 如果还没有此 Tag 的记录，则初始化一个数组\n        if (!groupedData[tag]) {\n            groupedData[tag] = [];\n        }\n\n        // 将当前项的 Product_FabDescription 添加到对应的 Tag 数组\n        groupedData[tag].push(productDescription);\n    });\n\n    // 提取结果到一个二维数组\n    const resultList = Object.entries(groupedData).map(([tag, descriptions]) => [tag, ...descriptions]);\n\n    // 定义每个二维数组对应的选取条数\n    const selectionCounts = [\n        2,    // index 0 :FAB 产品解说\n        1,    // index 1:面料宣传\n        1,    // index 2:工艺\n        2,    // index 3：运动场景\n        1,    // index 4：一句话宣传\n        1,    // index 5：用户痛点\n        1,    // index 6：版型宣传\n        2,    // index 7：设计宣传\n        1,    // index 8：面料解说\n    ];\n\n    // 创建一个函数来处理随机选择\n    function selectRandomItems(array, count) {\n        if (Array.isArray(count)) {\n            // 随机选择 count 中的一个值\n            count = count[Math.floor(Math.random() * count.length)];\n        }\n        const shuffled = array.slice(); // 复制数组\n        shuffled.sort(() => 0.5 - Math.random());\n        return shuffled.slice(0, count);\n    }\n\n    // 使用随机选择逻辑选择结果\n    const finalResult = resultList.map((subArray, index) => {\n        const chosenItems = selectRandomItems(subArray.slice(1), selectionCounts[index]);\n        return `${subArray[0]}: ${chosenItems.join(', ')}`;\n    });\n\n    // 以 \\n 连接结果\n    const dataStr = finalResult.join('\\n');\n    let randomNum = Math.random();\n    let outputStr = '';\n\n    // 判断随机数是否大于0.5，从而决定输出结果\n    if (randomNum >= 0.5) {\n        outputStr = dataStr + '\\n' + `颜色：${data2}`;\n    } else {\n        outputStr = dataStr + '\\n' + \"无颜色\";\n    }\n\n    // 返回结果格式\n    return { productInput: outputStr };\n}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "data1",
          "label": "data1",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "VARIABLE_NODE_ID",
            "S&W_Marketing_sqlInputData"
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "data2",
          "label": "data2",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "VARIABLE_NODE_ID",
            "userSelectProductColor"
          ]
        }
      ],
      "outputs": [
        {
          "id": "system_rawResponse",
          "key": "system_rawResponse",
          "label": "workflow:full_response_data",
          "valueType": "object",
          "type": "static",
          "description": ""
        },
        {
          "id": "error",
          "key": "error",
          "label": "workflow:execution_error",
          "description": "代码运行错误信息，成功时返回空",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "system_addOutputParam",
          "key": "system_addOutputParam",
          "type": "dynamic",
          "valueType": "dynamic",
          "label": "",
          "customFieldConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": false
          },
          "description": "将代码中 return 的对象作为输出，传递给后续的节点。变量名需要对应 return 的 key",
          "valueDesc": ""
        },
        {
          "id": "qLUQfhG0ILRX",
          "type": "dynamic",
          "key": "productInput",
          "valueType": "string",
          "label": "productInput",
          "valueDesc": "",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "r7XS4Obr51LY",
      "name": "userquestion#7",
      "intro": "可对固定或传入的文本进行加工后输出，非字符串类型数据最终会转成字符串类型。",
      "avatar": "core/workflow/template/textConcat",
      "flowNodeType": "textEditor",
      "position": {
        "x": 7376.503015287686,
        "y": 4648.608555967637
      },
      "version": "4813",
      "inputs": [
        {
          "key": "system_textareaInput",
          "renderTypeList": [
            "textarea"
          ],
          "valueType": "string",
          "required": true,
          "label": "拼接文本",
          "placeholder": "workflow:input_variable_list",
          "value": "品牌：{{$VARIABLE_NODE_ID.品牌nickName$}}\n产品：{{$VARIABLE_NODE_ID.用户查询的产品名$}}\n{{$gSLj0RfB1gHA.qLUQfhG0ILRX$}}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "system_text",
          "key": "system_text",
          "label": "workflow:concatenation_result",
          "type": "static",
          "valueType": "string",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "dGHCDmyQfm2m",
      "name": "构造输入列表#23",
      "intro": "执行一段简单的脚本代码，通常用于进行复杂的数据处理。",
      "avatar": "core/workflow/template/codeRun",
      "flowNodeType": "code",
      "showStatus": true,
      "position": {
        "x": 8156.371388511132,
        "y": 4450.608555967637
      },
      "version": "482",
      "inputs": [
        {
          "key": "system_addInputParam",
          "renderTypeList": [
            "addInputParam"
          ],
          "valueType": "dynamic",
          "label": "",
          "required": false,
          "description": "workflow:these_variables_will_be_input_parameters_for_code_execution",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "codeType",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": "js",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "code",
          "renderTypeList": [
            "custom"
          ],
          "label": "",
          "value": "function main({data1}){\n    const inputStr  = data1\n    const inputArr = []\n    for(let i =0; i<10; i++){\n        inputArr.push(inputStr)\n    }\n\n    return {ProductInputInfo: inputArr}\n}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "data1",
          "label": "data1",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "r7XS4Obr51LY",
            "system_text"
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "system_rawResponse",
          "key": "system_rawResponse",
          "label": "workflow:full_response_data",
          "valueType": "object",
          "type": "static",
          "description": ""
        },
        {
          "id": "error",
          "key": "error",
          "label": "workflow:execution_error",
          "description": "代码运行错误信息，成功时返回空",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "system_addOutputParam",
          "key": "system_addOutputParam",
          "type": "dynamic",
          "valueType": "dynamic",
          "label": "",
          "customFieldConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": false
          },
          "description": "将代码中 return 的对象作为输出，传递给后续的节点。变量名需要对应 return 的 key",
          "valueDesc": ""
        },
        {
          "id": "qLUQfhG0ILRX",
          "type": "dynamic",
          "key": "ProductInputInfo",
          "valueType": "string",
          "label": "ProductInputInfo",
          "valueDesc": "",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "jOz1AHxkwTPr",
      "name": "变量更新#8",
      "intro": "可以更新指定节点的输出值或更新全局变量",
      "avatar": "core/workflow/template/variableUpdate",
      "flowNodeType": "variableUpdate",
      "showStatus": false,
      "position": {
        "x": -24704.665350595682,
        "y": 4103.047853466958
      },
      "version": "481",
      "inputs": [
        {
          "key": "updateList",
          "valueType": "any",
          "label": "",
          "renderTypeList": [
            "hidden"
          ],
          "value": [
            {
              "variable": [
                "VARIABLE_NODE_ID",
                "品牌nickName"
              ],
              "value": [
                "",
                "{{$tGNqnyazqz1c.qLUQfhG0ILRX$}}"
              ],
              "valueType": "any",
              "renderType": "input"
            }
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "srVCa8SiDKPL",
      "name": "变量更新#9",
      "intro": "可以更新指定节点的输出值或更新全局变量",
      "avatar": "core/workflow/template/variableUpdate",
      "flowNodeType": "variableUpdate",
      "showStatus": false,
      "position": {
        "x": 8841.167021212299,
        "y": 4707.108555967637
      },
      "version": "481",
      "inputs": [
        {
          "key": "updateList",
          "valueType": "any",
          "label": "",
          "renderTypeList": [
            "hidden"
          ],
          "value": [
            {
              "variable": [
                "VARIABLE_NODE_ID",
                "S&W_Marketing_executeList"
              ],
              "value": [
                [
                  "dGHCDmyQfm2m",
                  "qLUQfhG0ILRX"
                ]
              ],
              "valueType": "string",
              "renderType": "reference"
            }
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "wjtgtRilc1hp",
      "name": "变量更新#10",
      "intro": "可以更新指定节点的输出值或更新全局变量",
      "avatar": "core/workflow/template/variableUpdate",
      "flowNodeType": "variableUpdate",
      "showStatus": false,
      "position": {
        "x": 6920.904551495648,
        "y": 1139.4698820658223
      },
      "version": "481",
      "inputs": [
        {
          "key": "updateList",
          "valueType": "any",
          "label": "",
          "renderTypeList": [
            "hidden"
          ],
          "value": [
            {
              "variable": [
                "VARIABLE_NODE_ID",
                "S&W_Marketing_templateModule"
              ],
              "value": [
                "m31MWobEheQi",
                "qLUQfhG0ILRX"
              ],
              "valueType": "any",
              "renderType": "reference"
            }
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "syHUKjLyEPDe",
      "name": "代码运行#22",
      "intro": "执行一段简单的脚本代码，通常用于进行复杂的数据处理。",
      "avatar": "core/workflow/template/codeRun",
      "flowNodeType": "code",
      "showStatus": true,
      "position": {
        "x": 16068.374073144054,
        "y": 4475.983366867775
      },
      "version": "482",
      "inputs": [
        {
          "key": "system_addInputParam",
          "renderTypeList": [
            "addInputParam"
          ],
          "valueType": "dynamic",
          "label": "",
          "required": false,
          "description": "workflow:these_variables_will_be_input_parameters_for_code_execution",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "codeType",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": "js",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "code",
          "renderTypeList": [
            "custom"
          ],
          "label": "",
          "value": "function main({data,  productNumber }) {\n    // 表头\n    let markdownTable = `| 产品编号 | 模板编号 | 文案内容 |\\n`;\n    markdownTable += `| -------- | -------- | -------- |\\n`;\n  \n    // 遍历每一个模板\n    data.forEach(item => {\n      const templateID = item.Template_Name;\n      const copywriters = item.copywriter;\n  \n      // 为每一个 copywriter 生成一行\n      copywriters.forEach(copy => {\n        markdownTable += `| ${productNumber} | ${templateID} | ${copy} |\\n`;\n      });\n    });\n  \n    console.log(markdownTable);\n    return {markdownTable: markdownTable}\n  }",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "arrayObject",
          "canEdit": true,
          "key": "data",
          "label": "data",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            [
              "VARIABLE_NODE_ID",
              "S&W_Marketing_upgradeData"
            ]
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "productNumber",
          "label": "productNumber",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "VARIABLE_NODE_ID",
            "产品名对应的产品编号"
          ]
        }
      ],
      "outputs": [
        {
          "id": "system_rawResponse",
          "key": "system_rawResponse",
          "label": "workflow:full_response_data",
          "valueType": "object",
          "type": "static",
          "description": ""
        },
        {
          "id": "error",
          "key": "error",
          "label": "workflow:execution_error",
          "description": "代码运行错误信息，成功时返回空",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "system_addOutputParam",
          "key": "system_addOutputParam",
          "type": "dynamic",
          "valueType": "dynamic",
          "label": "",
          "customFieldConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": false
          },
          "description": "将代码中 return 的对象作为输出，传递给后续的节点。变量名需要对应 return 的 key",
          "valueDesc": ""
        },
        {
          "id": "qLUQfhG0ILRX",
          "type": "dynamic",
          "key": "markdownTable",
          "valueType": "string",
          "label": "markdownTable",
          "valueDesc": "",
          "description": ""
        },
        {
          "id": "gR0mkQpJ4Og8",
          "type": "dynamic",
          "key": "data2",
          "valueType": "string",
          "label": "data2",
          "valueDesc": "",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "xQVF3ySOQ4VG",
      "name": "变量更新#9",
      "intro": "可以更新指定节点的输出值或更新全局变量",
      "avatar": "core/workflow/template/variableUpdate",
      "flowNodeType": "variableUpdate",
      "showStatus": false,
      "position": {
        "x": -2557.815731224459,
        "y": 2901.289178777873
      },
      "version": "481",
      "inputs": [
        {
          "key": "updateList",
          "valueType": "any",
          "label": "",
          "renderTypeList": [
            "hidden"
          ],
          "value": [
            {
              "variable": [
                "VARIABLE_NODE_ID",
                "产品名对应的产品编号"
              ],
              "value": [
                "",
                "{{$oGsVeLrnpoNZ.uxpzz0OwDh3C$}}"
              ],
              "valueType": "string",
              "renderType": "input"
            }
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "yQMgfNjtkVfF",
      "name": "指定回复#11",
      "intro": "该模块可以直接回复一段指定的内容。常用于引导、提示。非字符串内容传入时，会转成字符串进行输出。",
      "avatar": "core/workflow/template/reply",
      "flowNodeType": "answerNode",
      "position": {
        "x": 16980.508838221635,
        "y": 4799.483366867775
      },
      "version": "481",
      "inputs": [
        {
          "key": "text",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "valueType": "any",
          "required": true,
          "label": "回复的内容",
          "description": "common:core.module.input.description.Response content",
          "placeholder": "common:core.module.input.description.Response content",
          "value": "{{$syHUKjLyEPDe.qLUQfhG0ILRX$}}",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "xdMwuu4idOjO",
      "name": "代码运行#23",
      "intro": "执行一段简单的脚本代码，通常用于进行复杂的数据处理。",
      "avatar": "core/workflow/template/codeRun",
      "flowNodeType": "code",
      "showStatus": true,
      "position": {
        "x": 17845.32425054802,
        "y": 4522.483366867775
      },
      "version": "482",
      "inputs": [
        {
          "key": "system_addInputParam",
          "renderTypeList": [
            "addInputParam"
          ],
          "valueType": "dynamic",
          "label": "",
          "required": false,
          "description": "workflow:these_variables_will_be_input_parameters_for_code_execution",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "codeType",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": "js",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "code",
          "renderTypeList": [
            "custom"
          ],
          "label": "",
          "value": "\nfunction main({ data1 }) {\n    console.log(data1)\n    const result2base64 = strToBase64(data1)\n    console.log(`${result2base64}`)\n    return {\n        result2base64:result2base64\n    };\n}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "data1",
          "label": "data1",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "syHUKjLyEPDe",
            "qLUQfhG0ILRX"
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "system_rawResponse",
          "key": "system_rawResponse",
          "label": "workflow:full_response_data",
          "valueType": "object",
          "type": "static",
          "description": ""
        },
        {
          "id": "error",
          "key": "error",
          "label": "workflow:execution_error",
          "description": "代码运行错误信息，成功时返回空",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "system_addOutputParam",
          "key": "system_addOutputParam",
          "type": "dynamic",
          "valueType": "dynamic",
          "label": "",
          "customFieldConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": false
          },
          "description": "将代码中 return 的对象作为输出，传递给后续的节点。变量名需要对应 return 的 key",
          "valueDesc": ""
        },
        {
          "id": "qLUQfhG0ILRX",
          "type": "dynamic",
          "key": "result",
          "valueType": "string",
          "label": "result",
          "valueDesc": "",
          "description": ""
        },
        {
          "id": "gR0mkQpJ4Og8",
          "type": "dynamic",
          "key": "result2base64",
          "valueType": "string",
          "label": "result2base64",
          "valueDesc": "",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "iFsX8ztxD4Vz",
      "name": "HTTP 请求",
      "intro": "可以发出一个 HTTP 请求，实现更为复杂的操作（联网搜索、数据库查询等）",
      "avatar": "core/workflow/template/httpRequest",
      "flowNodeType": "httpRequest468",
      "showStatus": true,
      "position": {
        "x": 18758.17466329801,
        "y": 4509.483366867775
      },
      "version": "481",
      "inputs": [
        {
          "key": "system_addInputParam",
          "renderTypeList": [
            "addInputParam"
          ],
          "valueType": "dynamic",
          "label": "",
          "required": false,
          "description": "common:core.module.input.description.HTTP Dynamic Input",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "system_httpMethod",
          "renderTypeList": [
            "custom"
          ],
          "valueType": "string",
          "label": "",
          "value": "POST",
          "required": true,
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "system_httpTimeout",
          "renderTypeList": [
            "custom"
          ],
          "valueType": "number",
          "label": "",
          "value": 30,
          "min": 5,
          "max": 600,
          "required": true,
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "system_httpReqUrl",
          "renderTypeList": [
            "hidden"
          ],
          "valueType": "string",
          "label": "",
          "description": "common:core.module.input.description.Http Request Url",
          "placeholder": "https://api.ai.com/getInventory",
          "required": false,
          "value": "http://192.168.1.235:6001/tools/markdown2excel",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "system_httpHeader",
          "renderTypeList": [
            "custom"
          ],
          "valueType": "any",
          "value": [],
          "label": "",
          "description": "common:core.module.input.description.Http Request Header",
          "placeholder": "common:core.module.input.description.Http Request Header",
          "required": false,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "system_httpParams",
          "renderTypeList": [
            "hidden"
          ],
          "valueType": "any",
          "value": [],
          "label": "",
          "required": false,
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "system_httpJsonBody",
          "renderTypeList": [
            "hidden"
          ],
          "valueType": "any",
          "value": "{\n  \"filter\": {},\n  \"columns\": [ ],\n  \"table_start\":0,\n  \"markdown_base64\":\"{{$xdMwuu4idOjO.gR0mkQpJ4Og8$}}\",\n  \"markdown\": \"\"\n}",
          "label": "",
          "required": false,
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "system_httpFormBody",
          "renderTypeList": [
            "hidden"
          ],
          "valueType": "any",
          "value": [],
          "label": "",
          "required": false,
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "system_httpContentType",
          "renderTypeList": [
            "hidden"
          ],
          "valueType": "string",
          "value": "json",
          "label": "",
          "required": false,
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "error",
          "key": "error",
          "label": "workflow:request_error",
          "description": "HTTP请求错误信息，成功时返回空",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "httpRawResponse",
          "key": "httpRawResponse",
          "required": true,
          "label": "workflow:raw_response",
          "description": "HTTP请求的原始响应。只能接受字符串或JSON类型响应数据。",
          "valueType": "any",
          "type": "static"
        },
        {
          "id": "system_addOutputParam",
          "key": "system_addOutputParam",
          "type": "dynamic",
          "valueType": "dynamic",
          "label": "输出字段提取",
          "customFieldConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": false
          },
          "description": "可以通过 JSONPath 语法来提取响应值中的指定字段",
          "valueDesc": ""
        },
        {
          "id": "aNsgdUA1Uw2o",
          "valueType": "string",
          "type": "dynamic",
          "key": "url",
          "label": "url"
        }
      ]
    },
    {
      "nodeId": "vPGhCmoVG4hb",
      "name": "指定回复#11",
      "intro": "该模块可以直接回复一段指定的内容。常用于引导、提示。非字符串内容传入时，会转成字符串进行输出。",
      "avatar": "core/workflow/template/reply",
      "flowNodeType": "answerNode",
      "position": {
        "x": 19930.9688837448,
        "y": 4785.983366867775
      },
      "version": "481",
      "inputs": [
        {
          "key": "text",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "valueType": "any",
          "required": true,
          "label": "回复的内容",
          "description": "common:core.module.input.description.Response content",
          "placeholder": "common:core.module.input.description.Response content",
          "value": "👇请轻点下方链接🔗，get生成文案！\n\n\n\n[文件下载]({{$iFsX8ztxD4Vz.aNsgdUA1Uw2o$}})",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "qLhiE0oS0ncy",
      "name": "指定回复#12",
      "intro": "该模块可以直接回复一段指定的内容。常用于引导、提示。非字符串内容传入时，会转成字符串进行输出。",
      "avatar": "core/workflow/template/reply",
      "flowNodeType": "answerNode",
      "position": {
        "x": 8154.608987020711,
        "y": 1139.4698820658223
      },
      "version": "481",
      "inputs": [
        {
          "key": "text",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "valueType": "any",
          "required": true,
          "label": "回复的内容",
          "description": "common:core.module.input.description.Response content",
          "placeholder": "common:core.module.input.description.Response content",
          "value": "请稍等😊😊，接下来会为您选择的🌱{{$oGsVeLrnpoNZ.oY3bJ7EcP2cu$}}，挑选10个文案模板，生成20条文案，大约需要⏳40s...",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "sws18c2hRxwH",
      "name": "指定回复#13",
      "intro": "该模块可以直接回复一段指定的内容。常用于引导、提示。非字符串内容传入时，会转成字符串进行输出。",
      "avatar": "core/workflow/template/reply",
      "flowNodeType": "answerNode",
      "position": {
        "x": -4689.1223144462465,
        "y": 909.8860381988952
      },
      "version": "481",
      "inputs": [
        {
          "key": "text",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "valueType": "any",
          "required": true,
          "label": "回复的内容",
          "description": "common:core.module.input.description.Response content",
          "placeholder": "common:core.module.input.description.Response content",
          "value": "您选择的产品是：🌱{{$oGsVeLrnpoNZ.oY3bJ7EcP2cu$}}\n您选择的颜色是：{{$VARIABLE_NODE_ID.userSelectProductColor$}}\n🔍请从以下选项中挑选一个你心仪的创作方向，我将全力以赴为你打造精彩内容哦！😊😊",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "fTsD9G8B30Kv",
      "name": "查询产品颜色属性",
      "intro": "可连接常用数据库，并执行sql",
      "avatar": "core/workflow/template/datasource",
      "flowNodeType": "pluginModule",
      "showStatus": true,
      "position": {
        "x": -13265.896909706655,
        "y": -1027.0179271209677
      },
      "version": "4811",
      "inputs": [
        {
          "key": "system_forbid_stream",
          "renderTypeList": [
            "switch"
          ],
          "valueType": "boolean",
          "label": "禁用流输出",
          "description": "强制设置嵌套运行的应用，均以非流模式运行",
          "value": false,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "select",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "databaseType",
          "label": "databaseType",
          "description": "数据库的类型",
          "defaultValue": "",
          "list": [
            {
              "label": "MySQL",
              "value": "MySQL"
            },
            {
              "label": "PostgreSQL",
              "value": "PostgreSQL"
            }
          ],
          "required": true,
          "value": "MySQL",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "host",
          "label": "host",
          "description": "数据库连接host",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": "192.3.211.151",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "numberInput",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "number",
          "canEdit": false,
          "key": "port",
          "label": "port",
          "description": "数据库连接端口号",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": 3307,
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "databaseName",
          "label": "databaseName",
          "description": "数据库名称",
          "defaultValue": "",
          "required": true,
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "value": "FZDB",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "password",
          "label": "password",
          "description": "数据库密码",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "value": "123456",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "user",
          "label": "user",
          "description": "数据库账号",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "value": "root",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "input",
            "reference"
          ],
          "selectedTypeIndex": 0,
          "valueType": "string",
          "canEdit": false,
          "key": "sql",
          "label": "sql",
          "description": "sql语句，可以传入sql语句直接执行",
          "defaultValue": "",
          "list": [
            {
              "label": "",
              "value": ""
            }
          ],
          "required": true,
          "toolDescription": "sql语句，可以传入sql语句直接执行",
          "value": "SELECT * FROM Product_Color WHERE Card = {{$oGsVeLrnpoNZ.qLUQfhG0ILRX$}}",
          "valueDesc": "",
          "debugLabel": ""
        }
      ],
      "outputs": [
        {
          "id": "result",
          "type": "static",
          "key": "result",
          "valueType": "string",
          "label": "result",
          "description": "数据库连接结果",
          "valueDesc": ""
        }
      ],
      "pluginId": "community-databaseConnection"
    },
    {
      "nodeId": "uUjaJGUgh3BN",
      "name": "渲染颜色属性以供选择",
      "intro": "执行一段简单的脚本代码，通常用于进行复杂的数据处理。",
      "avatar": "core/workflow/template/codeRun",
      "flowNodeType": "code",
      "showStatus": true,
      "position": {
        "x": -12354.429151022709,
        "y": -971.8118994404323
      },
      "version": "482",
      "inputs": [
        {
          "key": "system_addInputParam",
          "renderTypeList": [
            "addInputParam"
          ],
          "valueType": "dynamic",
          "label": "",
          "required": false,
          "description": "workflow:these_variables_will_be_input_parameters_for_code_execution",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "codeType",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": "js",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "code",
          "renderTypeList": [
            "custom"
          ],
          "label": "",
          "value": "  \n  function main({ data1, Product_Name }) {\n    let parsedData = JSON.parse(data1);\n    let mdTable = `| 颜色ID | ${Product_Name} |\\n|--------|----------------|\\n`;\n  \n    parsedData.result.forEach((value, index) => {\n      mdTable += `| ${index + 1} | ${value.Product_Color} |\\n`;\n    });\n  \n    return{colorTable:mdTable};\n  }\n  ",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "data1",
          "label": "data1",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "fTsD9G8B30Kv",
            "result"
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "Product_Name",
          "label": "Product_Name",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "oGsVeLrnpoNZ",
            "oY3bJ7EcP2cu"
          ]
        }
      ],
      "outputs": [
        {
          "id": "system_rawResponse",
          "key": "system_rawResponse",
          "label": "workflow:full_response_data",
          "valueType": "object",
          "type": "static",
          "description": ""
        },
        {
          "id": "error",
          "key": "error",
          "label": "workflow:execution_error",
          "description": "代码运行错误信息，成功时返回空",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "system_addOutputParam",
          "key": "system_addOutputParam",
          "type": "dynamic",
          "valueType": "dynamic",
          "label": "",
          "customFieldConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": false
          },
          "description": "将代码中 return 的对象作为输出，传递给后续的节点。变量名需要对应 return 的 key",
          "valueDesc": ""
        },
        {
          "id": "qLUQfhG0ILRX",
          "type": "dynamic",
          "key": "colorTable",
          "valueType": "string",
          "label": "colorTable",
          "valueDesc": "",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "xh7gYbsmo2fv",
      "name": "指定回复#14",
      "intro": "该模块可以直接回复一段指定的内容。常用于引导、提示。非字符串内容传入时，会转成字符串进行输出。",
      "avatar": "core/workflow/template/reply",
      "flowNodeType": "answerNode",
      "position": {
        "x": -11733.311056635848,
        "y": -672.5179271209678
      },
      "version": "481",
      "inputs": [
        {
          "key": "text",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "valueType": "any",
          "required": true,
          "label": "回复的内容",
          "description": "common:core.module.input.description.Response content",
          "placeholder": "common:core.module.input.description.Response content",
          "value": "您选择的产品是：🌱{{$oGsVeLrnpoNZ.oY3bJ7EcP2cu$}}\n以下是这款产品属性卡拥有的颜色，您希望生成哪个颜色的产品呢？\n{{$uUjaJGUgh3BN.qLUQfhG0ILRX$}}",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "kJ4al17oMYrO",
      "name": "表单输入#3",
      "intro": "该模块可以配置多种输入，引导用户输入特定内容。",
      "avatar": "core/workflow/template/formInput",
      "flowNodeType": "formInput",
      "position": {
        "x": -10923.67673755882,
        "y": -813.566342973054
      },
      "version": "4811",
      "inputs": [
        {
          "key": "description",
          "renderTypeList": [
            "textarea"
          ],
          "valueType": "string",
          "label": "说明文字",
          "description": "app:workflow.input_description_tip",
          "placeholder": "app:workflow.form_input_description_placeholder",
          "value": "请输入你需要的产品颜色信息",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "custom"
          ],
          "valueType": "any",
          "label": "",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": "",
          "key": "userInputForms",
          "value": [
            {
              "type": "input",
              "key": "选择产品颜色",
              "label": "选择产品颜色",
              "description": "",
              "value": "",
              "defaultValue": "",
              "valueType": "string",
              "required": false,
              "list": [
                {
                  "label": "",
                  "value": ""
                }
              ]
            }
          ]
        }
      ],
      "outputs": [
        {
          "id": "formInputResult",
          "key": "formInputResult",
          "required": true,
          "label": "workflow:form_input_result",
          "description": "一个包含完整结果的对象",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "userSelectColor",
          "valueType": "string",
          "key": "选择产品颜色",
          "label": "选择产品颜色",
          "type": "static"
        }
      ]
    },
    {
      "nodeId": "uCS2lfYWC2IJ",
      "name": "代码运行#25",
      "intro": "执行一段简单的脚本代码，通常用于进行复杂的数据处理。",
      "avatar": "core/workflow/template/codeRun",
      "flowNodeType": "code",
      "showStatus": true,
      "position": {
        "x": -10250.50615623676,
        "y": -980.566342973054
      },
      "version": "482",
      "inputs": [
        {
          "key": "system_addInputParam",
          "renderTypeList": [
            "addInputParam"
          ],
          "valueType": "dynamic",
          "label": "",
          "required": false,
          "description": "workflow:these_variables_will_be_input_parameters_for_code_execution",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "codeType",
          "renderTypeList": [
            "hidden"
          ],
          "label": "",
          "value": "js",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "code",
          "renderTypeList": [
            "custom"
          ],
          "label": "",
          "value": "function main({ data1, userInput }) {\n  let parsedData = JSON.parse(data1);\n\n  // 遍历 parsedData.result\n  for (let i = 0; i < parsedData.result.length; i++) {\n    let value = parsedData.result[i];\n    if (String(i + 1) === userInput || value.Product_Color === userInput) {\n      // 如果找到匹配项，直接返回结果\n      return { findData: value.Product_Color };\n    }\n  }\n\n  // 如果遍历完都没有找到匹配项，返回未找到的信息\n  return { unfind: \"没有颜色信息\" };\n}",
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "data1",
          "label": "data1",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "fTsD9G8B30Kv",
            "result"
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "renderTypeList": [
            "reference"
          ],
          "valueType": "string",
          "canEdit": true,
          "key": "userInput",
          "label": "userInput",
          "customInputConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": true
          },
          "required": true,
          "value": [
            "kJ4al17oMYrO",
            "userSelectColor"
          ]
        }
      ],
      "outputs": [
        {
          "id": "system_rawResponse",
          "key": "system_rawResponse",
          "label": "workflow:full_response_data",
          "valueType": "object",
          "type": "static",
          "description": ""
        },
        {
          "id": "error",
          "key": "error",
          "label": "workflow:execution_error",
          "description": "代码运行错误信息，成功时返回空",
          "valueType": "object",
          "type": "static"
        },
        {
          "id": "system_addOutputParam",
          "key": "system_addOutputParam",
          "type": "dynamic",
          "valueType": "dynamic",
          "label": "",
          "customFieldConfig": {
            "selectValueTypeList": [
              "string",
              "number",
              "boolean",
              "object",
              "arrayString",
              "arrayNumber",
              "arrayBoolean",
              "arrayObject",
              "arrayAny",
              "any",
              "chatHistory",
              "datasetQuote",
              "dynamic",
              "selectApp",
              "selectDataset"
            ],
            "showDescription": false,
            "showDefaultValue": false
          },
          "description": "将代码中 return 的对象作为输出，传递给后续的节点。变量名需要对应 return 的 key",
          "valueDesc": ""
        },
        {
          "id": "qLUQfhG0ILRX",
          "type": "dynamic",
          "key": "findData",
          "valueType": "string",
          "label": "findData",
          "valueDesc": "",
          "description": ""
        },
        {
          "id": "gR0mkQpJ4Og8",
          "type": "dynamic",
          "key": "unfind",
          "valueType": "string",
          "label": "unfind",
          "valueDesc": "",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "n9O48trk1r8y",
      "name": "判断器#4",
      "intro": "根据一定的条件，执行不同的分支。",
      "avatar": "core/workflow/template/ifelse",
      "flowNodeType": "ifElseNode",
      "showStatus": true,
      "position": {
        "x": -9578.854789190613,
        "y": -710.566342973054
      },
      "version": "481",
      "inputs": [
        {
          "key": "ifElseList",
          "renderTypeList": [
            "hidden"
          ],
          "valueType": "any",
          "label": "",
          "value": [
            {
              "condition": "AND",
              "list": [
                {
                  "variable": [
                    "uCS2lfYWC2IJ",
                    "gR0mkQpJ4Og8"
                  ],
                  "condition": "equalTo",
                  "value": "没有颜色信息"
                }
              ]
            }
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": [
        {
          "id": "ifElseResult",
          "key": "ifElseResult",
          "label": "workflow:judgment_result",
          "valueType": "string",
          "type": "static",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "hE7nOsmHhFAW",
      "name": "指定回复#15",
      "intro": "该模块可以直接回复一段指定的内容。常用于引导、提示。非字符串内容传入时，会转成字符串进行输出。",
      "avatar": "core/workflow/template/reply",
      "flowNodeType": "answerNode",
      "position": {
        "x": -10325.782350193133,
        "y": 524.0289165666342
      },
      "version": "481",
      "inputs": [
        {
          "key": "text",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "valueType": "any",
          "required": true,
          "label": "回复的内容",
          "description": "common:core.module.input.description.Response content",
          "placeholder": "common:core.module.input.description.Response content",
          "value": "❗️您输入的信息有误，请核对后输入📝🔍",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "gXGiPMWCpH8v",
      "name": "指定回复#16",
      "intro": "该模块可以直接回复一段指定的内容。常用于引导、提示。非字符串内容传入时，会转成字符串进行输出。",
      "avatar": "core/workflow/template/reply",
      "flowNodeType": "answerNode",
      "position": {
        "x": -7539.80363615834,
        "y": -585.7791530550265
      },
      "version": "481",
      "inputs": [
        {
          "key": "text",
          "renderTypeList": [
            "textarea",
            "reference"
          ],
          "valueType": "any",
          "required": true,
          "label": "回复的内容",
          "description": "common:core.module.input.description.Response content",
          "placeholder": "common:core.module.input.description.Response content",
          "value": "{{$VARIABLE_NODE_ID.userSelectProductColor$}}",
          "valueDesc": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "t1FdJoDq6eVL",
      "name": "变量更新#10",
      "intro": "可以更新指定节点的输出值或更新全局变量",
      "avatar": "core/workflow/template/variableUpdate",
      "flowNodeType": "variableUpdate",
      "showStatus": false,
      "position": {
        "x": -8512.30363615834,
        "y": -612.2791530550265
      },
      "version": "481",
      "inputs": [
        {
          "key": "updateList",
          "valueType": "any",
          "label": "",
          "renderTypeList": [
            "hidden"
          ],
          "value": [
            {
              "variable": [
                "VARIABLE_NODE_ID",
                "userSelectProductColor"
              ],
              "value": [
                "",
                "{{$uCS2lfYWC2IJ.qLUQfhG0ILRX$}}"
              ],
              "valueType": "string",
              "renderType": "input"
            }
          ],
          "valueDesc": "",
          "description": "",
          "debugLabel": "",
          "toolDescription": ""
        }
      ],
      "outputs": []
    }
  ],
  "edges": [
    {
      "source": "mDFq5jJrgQHy",
      "target": "ffubwInCOMzx",
      "sourceHandle": "mDFq5jJrgQHy-source-right",
      "targetHandle": "ffubwInCOMzx-target-left"
    },
    {
      "source": "qWGAOEoxpsTr",
      "target": "gPFQaXpUAHLU",
      "sourceHandle": "qWGAOEoxpsTr-source-right",
      "targetHandle": "gPFQaXpUAHLU-target-left"
    },
    {
      "source": "bmzcchcY6TIh",
      "target": "bY4HmuJTvHnA",
      "sourceHandle": "bmzcchcY6TIh-source-right",
      "targetHandle": "bY4HmuJTvHnA-target-left"
    },
    {
      "source": "tPMDuTKE6rm1",
      "target": "wzXrcVx8P29U",
      "sourceHandle": "tPMDuTKE6rm1-source-option1",
      "targetHandle": "wzXrcVx8P29U-target-left"
    },
    {
      "source": "wzXrcVx8P29U",
      "target": "qWGAOEoxpsTr",
      "sourceHandle": "wzXrcVx8P29U-source-option1",
      "targetHandle": "qWGAOEoxpsTr-target-left"
    },
    {
      "source": "wzXrcVx8P29U",
      "target": "bJon2gu0oQX6",
      "sourceHandle": "wzXrcVx8P29U-source-option2",
      "targetHandle": "bJon2gu0oQX6-target-left"
    },
    {
      "source": "wzXrcVx8P29U",
      "target": "fhQ5SpQFzz4P",
      "sourceHandle": "wzXrcVx8P29U-source-nvKe7l2rGTsY",
      "targetHandle": "fhQ5SpQFzz4P-target-left"
    },
    {
      "source": "wzXrcVx8P29U",
      "target": "qDDV2sysfB8s",
      "sourceHandle": "wzXrcVx8P29U-source-xy0lYH0Elp4e",
      "targetHandle": "qDDV2sysfB8s-target-left"
    },
    {
      "source": "wzXrcVx8P29U",
      "target": "tU66vcXC8LmL",
      "sourceHandle": "wzXrcVx8P29U-source-q6X2MtGeesMT",
      "targetHandle": "tU66vcXC8LmL-target-left"
    },
    {
      "source": "pcNsXJZPTBGQ",
      "target": "seL0JpmG5dCf",
      "sourceHandle": "pcNsXJZPTBGQ-source-right",
      "targetHandle": "seL0JpmG5dCf-target-left"
    },
    {
      "source": "seL0JpmG5dCf",
      "target": "uYVebgQMpvny",
      "sourceHandle": "seL0JpmG5dCf-source-right",
      "targetHandle": "uYVebgQMpvny-target-left"
    },
    {
      "source": "qlnGr7zcZMqR",
      "target": "gDymVH8Vw5RD",
      "sourceHandle": "qlnGr7zcZMqR-source-right",
      "targetHandle": "gDymVH8Vw5RD-target-left"
    },
    {
      "source": "uYVebgQMpvny",
      "target": "aPRgiLBxUBdX",
      "sourceHandle": "uYVebgQMpvny-source-right",
      "targetHandle": "aPRgiLBxUBdX-target-left"
    },
    {
      "source": "aPRgiLBxUBdX",
      "target": "qlnGr7zcZMqR",
      "sourceHandle": "aPRgiLBxUBdX-source-right",
      "targetHandle": "qlnGr7zcZMqR-target-left"
    },
    {
      "source": "g5UG76lJP2U3",
      "target": "pcNsXJZPTBGQ",
      "sourceHandle": "g5UG76lJP2U3-source-right",
      "targetHandle": "pcNsXJZPTBGQ-target-left"
    },
    {
      "source": "gDymVH8Vw5RD",
      "target": "rI0aT3jjczpe",
      "sourceHandle": "gDymVH8Vw5RD-source-right",
      "targetHandle": "rI0aT3jjczpe-target-left"
    },
    {
      "source": "paF98lBtLE4h",
      "target": "klyyXkZAI4jW",
      "sourceHandle": "paF98lBtLE4h-source-right",
      "targetHandle": "klyyXkZAI4jW-target-left"
    },
    {
      "source": "klyyXkZAI4jW",
      "target": "dx7qDl6mmPW3",
      "sourceHandle": "klyyXkZAI4jW-source-right",
      "targetHandle": "dx7qDl6mmPW3-target-left"
    },
    {
      "source": "dx7qDl6mmPW3",
      "target": "otykpQm9nnze",
      "sourceHandle": "dx7qDl6mmPW3-source-IF",
      "targetHandle": "otykpQm9nnze-target-left"
    },
    {
      "source": "otykpQm9nnze",
      "target": "z9vKRmFfvuou",
      "sourceHandle": "otykpQm9nnze-source-right",
      "targetHandle": "z9vKRmFfvuou-target-left"
    },
    {
      "source": "z9vKRmFfvuou",
      "target": "c5OjtvWDu4bS",
      "sourceHandle": "z9vKRmFfvuou-source-right",
      "targetHandle": "c5OjtvWDu4bS-target-left"
    },
    {
      "source": "aGhQDS7Ywskf",
      "target": "oGsVeLrnpoNZ",
      "sourceHandle": "aGhQDS7Ywskf-source-right",
      "targetHandle": "oGsVeLrnpoNZ-target-left"
    },
    {
      "source": "jl1USZNzLyZG",
      "target": "p7rxgh6cws4S",
      "sourceHandle": "jl1USZNzLyZG-source-IF",
      "targetHandle": "p7rxgh6cws4S-target-left"
    },
    {
      "source": "p7rxgh6cws4S",
      "target": "aGhQDS7Ywskf",
      "sourceHandle": "p7rxgh6cws4S-source-right",
      "targetHandle": "aGhQDS7Ywskf-target-left"
    },
    {
      "source": "oGsVeLrnpoNZ",
      "target": "jl1USZNzLyZG",
      "sourceHandle": "oGsVeLrnpoNZ-source-right",
      "targetHandle": "jl1USZNzLyZG-target-left"
    },
    {
      "source": "tPMDuTKE6rm1",
      "target": "rtqOjE6G92UN",
      "sourceHandle": "tPMDuTKE6rm1-source-tEcdakG8pAsO",
      "targetHandle": "rtqOjE6G92UN-target-left"
    },
    {
      "source": "rtqOjE6G92UN",
      "target": "fD7cnCXZ4o7Q",
      "sourceHandle": "rtqOjE6G92UN-source-right",
      "targetHandle": "fD7cnCXZ4o7Q-target-left"
    },
    {
      "source": "fD7cnCXZ4o7Q",
      "target": "bMLg4KPsTqeb",
      "sourceHandle": "fD7cnCXZ4o7Q-source-right",
      "targetHandle": "bMLg4KPsTqeb-target-left"
    },
    {
      "source": "inIW1Q1h5sV9",
      "target": "tGNqnyazqz1c",
      "sourceHandle": "inIW1Q1h5sV9-source-right",
      "targetHandle": "tGNqnyazqz1c-target-left"
    },
    {
      "source": "c5OjtvWDu4bS",
      "target": "kFuqMUFu8cnP",
      "sourceHandle": "c5OjtvWDu4bS-source-right",
      "targetHandle": "kFuqMUFu8cnP-target-left"
    },
    {
      "source": "kFuqMUFu8cnP",
      "target": "aGhQDS7Ywskf",
      "sourceHandle": "kFuqMUFu8cnP-source-right",
      "targetHandle": "aGhQDS7Ywskf-target-left"
    },
    {
      "source": "tUOUpm1XvEmv",
      "target": "paF98lBtLE4h",
      "sourceHandle": "tUOUpm1XvEmv-source-right",
      "targetHandle": "paF98lBtLE4h-target-left"
    },
    {
      "source": "dx7qDl6mmPW3",
      "target": "qCl53yONAUSv",
      "sourceHandle": "dx7qDl6mmPW3-source-ELSE",
      "targetHandle": "qCl53yONAUSv-target-left"
    },
    {
      "source": "r4Jp7xXN1RJd",
      "target": "tUOUpm1XvEmv",
      "sourceHandle": "r4Jp7xXN1RJd-source-ELSE",
      "targetHandle": "tUOUpm1XvEmv-target-left"
    },
    {
      "source": "448745",
      "target": "inIW1Q1h5sV9",
      "sourceHandle": "448745-source-right",
      "targetHandle": "inIW1Q1h5sV9-target-left"
    },
    {
      "source": "jl1USZNzLyZG",
      "target": "lZ03Z4bsyxVh",
      "sourceHandle": "jl1USZNzLyZG-source-ELSE",
      "targetHandle": "lZ03Z4bsyxVh-target-left"
    },
    {
      "source": "tPMDuTKE6rm1",
      "target": "mekT9ws0cp36",
      "sourceHandle": "tPMDuTKE6rm1-source-tEcdakG8pAsO",
      "targetHandle": "mekT9ws0cp36-target-left"
    },
    {
      "source": "bMLg4KPsTqeb",
      "target": "rI0aT3jjczpe",
      "sourceHandle": "bMLg4KPsTqeb-source-right",
      "targetHandle": "rI0aT3jjczpe-target-left"
    },
    {
      "source": "r4Jp7xXN1RJd",
      "target": "rtqOjE6G92UN",
      "sourceHandle": "r4Jp7xXN1RJd-source-ELSE IF 3",
      "targetHandle": "rtqOjE6G92UN-target-left"
    },
    {
      "source": "r4Jp7xXN1RJd",
      "target": "g5UG76lJP2U3",
      "sourceHandle": "r4Jp7xXN1RJd-source-ELSE IF 3",
      "targetHandle": "g5UG76lJP2U3-target-left"
    },
    {
      "source": "mekT9ws0cp36",
      "target": "g5UG76lJP2U3",
      "sourceHandle": "mekT9ws0cp36-source-option1",
      "targetHandle": "g5UG76lJP2U3-target-left"
    },
    {
      "source": "mekT9ws0cp36",
      "target": "g5UG76lJP2U3",
      "sourceHandle": "mekT9ws0cp36-source-option2",
      "targetHandle": "g5UG76lJP2U3-target-left"
    },
    {
      "source": "mekT9ws0cp36",
      "target": "g5UG76lJP2U3",
      "sourceHandle": "mekT9ws0cp36-source-nvKe7l2rGTsY",
      "targetHandle": "g5UG76lJP2U3-target-left"
    },
    {
      "source": "mekT9ws0cp36",
      "target": "g5UG76lJP2U3",
      "sourceHandle": "mekT9ws0cp36-source-xy0lYH0Elp4e",
      "targetHandle": "g5UG76lJP2U3-target-left"
    },
    {
      "source": "mekT9ws0cp36",
      "target": "g5UG76lJP2U3",
      "sourceHandle": "mekT9ws0cp36-source-ixV3brtNbGyu",
      "targetHandle": "g5UG76lJP2U3-target-left"
    },
    {
      "source": "mekT9ws0cp36",
      "target": "g5UG76lJP2U3",
      "sourceHandle": "mekT9ws0cp36-source-dxI3k8h3v1tV",
      "targetHandle": "g5UG76lJP2U3-target-left"
    },
    {
      "source": "r4Jp7xXN1RJd",
      "target": "rtqOjE6G92UN",
      "sourceHandle": "r4Jp7xXN1RJd-source-ELSE IF 4",
      "targetHandle": "rtqOjE6G92UN-target-left"
    },
    {
      "source": "r4Jp7xXN1RJd",
      "target": "g5UG76lJP2U3",
      "sourceHandle": "r4Jp7xXN1RJd-source-ELSE IF 4",
      "targetHandle": "g5UG76lJP2U3-target-left"
    },
    {
      "source": "r4Jp7xXN1RJd",
      "target": "g5UG76lJP2U3",
      "sourceHandle": "r4Jp7xXN1RJd-source-ELSE IF 5",
      "targetHandle": "g5UG76lJP2U3-target-left"
    },
    {
      "source": "r4Jp7xXN1RJd",
      "target": "rtqOjE6G92UN",
      "sourceHandle": "r4Jp7xXN1RJd-source-ELSE IF 5",
      "targetHandle": "rtqOjE6G92UN-target-left"
    },
    {
      "source": "r4Jp7xXN1RJd",
      "target": "g5UG76lJP2U3",
      "sourceHandle": "r4Jp7xXN1RJd-source-ELSE IF 6",
      "targetHandle": "g5UG76lJP2U3-target-left"
    },
    {
      "source": "r4Jp7xXN1RJd",
      "target": "rtqOjE6G92UN",
      "sourceHandle": "r4Jp7xXN1RJd-source-ELSE IF 6",
      "targetHandle": "rtqOjE6G92UN-target-left"
    },
    {
      "source": "r4Jp7xXN1RJd",
      "target": "g5UG76lJP2U3",
      "sourceHandle": "r4Jp7xXN1RJd-source-ELSE IF 7",
      "targetHandle": "g5UG76lJP2U3-target-left"
    },
    {
      "source": "r4Jp7xXN1RJd",
      "target": "rtqOjE6G92UN",
      "sourceHandle": "r4Jp7xXN1RJd-source-ELSE IF 7",
      "targetHandle": "rtqOjE6G92UN-target-left"
    },
    {
      "source": "r4Jp7xXN1RJd",
      "target": "g5UG76lJP2U3",
      "sourceHandle": "r4Jp7xXN1RJd-source-ELSE IF 8",
      "targetHandle": "g5UG76lJP2U3-target-left"
    },
    {
      "source": "r4Jp7xXN1RJd",
      "target": "rtqOjE6G92UN",
      "sourceHandle": "r4Jp7xXN1RJd-source-ELSE IF 8",
      "targetHandle": "rtqOjE6G92UN-target-left"
    },
    {
      "source": "rI0aT3jjczpe",
      "target": "rS06jmwW17v0",
      "sourceHandle": "rI0aT3jjczpe-source-right",
      "targetHandle": "rS06jmwW17v0-target-left"
    },
    {
      "source": "rS06jmwW17v0",
      "target": "rAhwzeB532Gl",
      "sourceHandle": "rS06jmwW17v0-source-option1",
      "targetHandle": "rAhwzeB532Gl-target-left"
    },
    {
      "source": "rAhwzeB532Gl",
      "target": "tx6lcP8MIFWh",
      "sourceHandle": "rAhwzeB532Gl-source-right",
      "targetHandle": "tx6lcP8MIFWh-target-left"
    },
    {
      "source": "rS06jmwW17v0",
      "target": "s0hBrNhbFkAe",
      "sourceHandle": "rS06jmwW17v0-source-option2",
      "targetHandle": "s0hBrNhbFkAe-target-left"
    },
    {
      "source": "iazFVLNvqisx",
      "target": "x43ma7etCTKP",
      "sourceHandle": "iazFVLNvqisx-source-right",
      "targetHandle": "x43ma7etCTKP-target-left"
    },
    {
      "source": "lZ03Z4bsyxVh",
      "target": "wezV3TyEpOem",
      "sourceHandle": "lZ03Z4bsyxVh-source-right",
      "targetHandle": "wezV3TyEpOem-target-left"
    },
    {
      "source": "tPMDuTKE6rm1",
      "target": "vxCm87AciLnH",
      "sourceHandle": "tPMDuTKE6rm1-source-option2",
      "targetHandle": "vxCm87AciLnH-target-left"
    },
    {
      "source": "x43ma7etCTKP",
      "target": "e5GGXbSx9tZE",
      "sourceHandle": "x43ma7etCTKP-source-right",
      "targetHandle": "e5GGXbSx9tZE-target-left"
    },
    {
      "source": "zIiF3JP1Lc4e",
      "target": "sYM7MVyo3Ngx",
      "sourceHandle": "zIiF3JP1Lc4e-source-right",
      "targetHandle": "sYM7MVyo3Ngx-target-left"
    },
    {
      "source": "sYM7MVyo3Ngx",
      "target": "wrzXtQYiwDT3",
      "sourceHandle": "sYM7MVyo3Ngx-source-right",
      "targetHandle": "wrzXtQYiwDT3-target-left"
    },
    {
      "source": "zK4CnZlA4rth",
      "target": "c9WPGhQO9UTK",
      "sourceHandle": "zK4CnZlA4rth-source-right",
      "targetHandle": "c9WPGhQO9UTK-target-left"
    },
    {
      "source": "c9WPGhQO9UTK",
      "target": "btWE3VOzY8Vu",
      "sourceHandle": "c9WPGhQO9UTK-source-right",
      "targetHandle": "btWE3VOzY8Vu-target-left"
    },
    {
      "source": "tUi8mDSywA71",
      "target": "rHC8V7NMirW9",
      "sourceHandle": "tUi8mDSywA71-source-right",
      "targetHandle": "rHC8V7NMirW9-target-left"
    },
    {
      "source": "rHC8V7NMirW9",
      "target": "zK4CnZlA4rth",
      "sourceHandle": "rHC8V7NMirW9-source-right",
      "targetHandle": "zK4CnZlA4rth-target-left"
    },
    {
      "source": "btWE3VOzY8Vu",
      "target": "uGNLmd1iJUXC",
      "sourceHandle": "btWE3VOzY8Vu-source-right",
      "targetHandle": "uGNLmd1iJUXC-target-left"
    },
    {
      "source": "tP4gMb6cVsk6",
      "target": "uzQnxLv2KEmP",
      "sourceHandle": "tP4gMb6cVsk6-source-right",
      "targetHandle": "uzQnxLv2KEmP-target-left"
    },
    {
      "source": "nAcd1D3JRaX0",
      "target": "m31MWobEheQi",
      "sourceHandle": "nAcd1D3JRaX0-source-right",
      "targetHandle": "m31MWobEheQi-target-left"
    },
    {
      "source": "mVkxlZtFlUIw",
      "target": "rHkhdEYCD7gV",
      "sourceHandle": "mVkxlZtFlUIw-source-right",
      "targetHandle": "rHkhdEYCD7gV-target-left"
    },
    {
      "source": "rHkhdEYCD7gV",
      "target": "sVQLzK0oYliH",
      "sourceHandle": "rHkhdEYCD7gV-source-right",
      "targetHandle": "sVQLzK0oYliH-target-left"
    },
    {
      "source": "sVQLzK0oYliH",
      "target": "po9j6TGSPsjk",
      "sourceHandle": "sVQLzK0oYliH-source-right",
      "targetHandle": "po9j6TGSPsjk-target-left"
    },
    {
      "source": "po9j6TGSPsjk",
      "target": "iYeWyPjNGxaN",
      "sourceHandle": "po9j6TGSPsjk-source-right",
      "targetHandle": "iYeWyPjNGxaN-target-left"
    },
    {
      "source": "vxCm87AciLnH",
      "target": "wy92wT3OmpOc",
      "sourceHandle": "vxCm87AciLnH-source-xMAVooKpuI1o",
      "targetHandle": "wy92wT3OmpOc-target-left"
    },
    {
      "source": "iI5ua4SNfOif",
      "target": "wsohQev6kVF2",
      "sourceHandle": "iI5ua4SNfOif-source-right",
      "targetHandle": "wsohQev6kVF2-target-left"
    },
    {
      "source": "uzQnxLv2KEmP",
      "target": "lb8XOPYVnQD0",
      "sourceHandle": "uzQnxLv2KEmP-source-right",
      "targetHandle": "lb8XOPYVnQD0-target-left"
    },
    {
      "source": "wsohQev6kVF2",
      "target": "xTqOLvianEBJ",
      "sourceHandle": "wsohQev6kVF2-source-right",
      "targetHandle": "xTqOLvianEBJ-target-left"
    },
    {
      "source": "xTqOLvianEBJ",
      "target": "nAcd1D3JRaX0",
      "sourceHandle": "xTqOLvianEBJ-source-right",
      "targetHandle": "nAcd1D3JRaX0-target-left"
    },
    {
      "source": "rikWYIhCnwgj",
      "target": "kNX6kT7F42wF",
      "sourceHandle": "rikWYIhCnwgj-source-right",
      "targetHandle": "kNX6kT7F42wF-target-left"
    },
    {
      "source": "gSLj0RfB1gHA",
      "target": "r7XS4Obr51LY",
      "sourceHandle": "gSLj0RfB1gHA-source-right",
      "targetHandle": "r7XS4Obr51LY-target-left"
    },
    {
      "source": "r7XS4Obr51LY",
      "target": "dGHCDmyQfm2m",
      "sourceHandle": "r7XS4Obr51LY-source-right",
      "targetHandle": "dGHCDmyQfm2m-target-left"
    },
    {
      "source": "tGNqnyazqz1c",
      "target": "jOz1AHxkwTPr",
      "sourceHandle": "tGNqnyazqz1c-source-right",
      "targetHandle": "jOz1AHxkwTPr-target-left"
    },
    {
      "source": "jOz1AHxkwTPr",
      "target": "r4Jp7xXN1RJd",
      "sourceHandle": "jOz1AHxkwTPr-source-right",
      "targetHandle": "r4Jp7xXN1RJd-target-left"
    },
    {
      "source": "dGHCDmyQfm2m",
      "target": "srVCa8SiDKPL",
      "sourceHandle": "dGHCDmyQfm2m-source-right",
      "targetHandle": "srVCa8SiDKPL-target-left"
    },
    {
      "source": "srVCa8SiDKPL",
      "target": "tP4gMb6cVsk6",
      "sourceHandle": "srVCa8SiDKPL-source-right",
      "targetHandle": "tP4gMb6cVsk6-target-left"
    },
    {
      "source": "m31MWobEheQi",
      "target": "wjtgtRilc1hp",
      "sourceHandle": "m31MWobEheQi-source-right",
      "targetHandle": "wjtgtRilc1hp-target-left"
    },
    {
      "source": "c87ObIR97FDn",
      "target": "gSLj0RfB1gHA",
      "sourceHandle": "c87ObIR97FDn-source-option1",
      "targetHandle": "gSLj0RfB1gHA-target-left"
    },
    {
      "source": "lb8XOPYVnQD0",
      "target": "c87ObIR97FDn",
      "sourceHandle": "lb8XOPYVnQD0-source-right",
      "targetHandle": "c87ObIR97FDn-target-left"
    },
    {
      "source": "c87ObIR97FDn",
      "target": "syHUKjLyEPDe",
      "sourceHandle": "c87ObIR97FDn-source-option2",
      "targetHandle": "syHUKjLyEPDe-target-left"
    },
    {
      "source": "wezV3TyEpOem",
      "target": "xQVF3ySOQ4VG",
      "sourceHandle": "wezV3TyEpOem-source-right",
      "targetHandle": "xQVF3ySOQ4VG-target-left"
    },
    {
      "source": "syHUKjLyEPDe",
      "target": "yQMgfNjtkVfF",
      "sourceHandle": "syHUKjLyEPDe-source-right",
      "targetHandle": "yQMgfNjtkVfF-target-left"
    },
    {
      "source": "yQMgfNjtkVfF",
      "target": "xdMwuu4idOjO",
      "sourceHandle": "yQMgfNjtkVfF-source-right",
      "targetHandle": "xdMwuu4idOjO-target-left"
    },
    {
      "source": "xdMwuu4idOjO",
      "target": "iFsX8ztxD4Vz",
      "sourceHandle": "xdMwuu4idOjO-source-right",
      "targetHandle": "iFsX8ztxD4Vz-target-left"
    },
    {
      "source": "iFsX8ztxD4Vz",
      "target": "vPGhCmoVG4hb",
      "sourceHandle": "iFsX8ztxD4Vz-source-right",
      "targetHandle": "vPGhCmoVG4hb-target-left"
    },
    {
      "source": "wy92wT3OmpOc",
      "target": "rikWYIhCnwgj",
      "sourceHandle": "wy92wT3OmpOc-source-right",
      "targetHandle": "rikWYIhCnwgj-target-left"
    },
    {
      "source": "qLhiE0oS0ncy",
      "target": "tP4gMb6cVsk6",
      "sourceHandle": "qLhiE0oS0ncy-source-right",
      "targetHandle": "tP4gMb6cVsk6-target-left"
    },
    {
      "source": "sws18c2hRxwH",
      "target": "tPMDuTKE6rm1",
      "sourceHandle": "sws18c2hRxwH-source-right",
      "targetHandle": "tPMDuTKE6rm1-target-left"
    },
    {
      "source": "jl1USZNzLyZG",
      "target": "fTsD9G8B30Kv",
      "sourceHandle": "jl1USZNzLyZG-source-ELSE",
      "targetHandle": "fTsD9G8B30Kv-target-left"
    },
    {
      "source": "fTsD9G8B30Kv",
      "target": "uUjaJGUgh3BN",
      "sourceHandle": "fTsD9G8B30Kv-source-right",
      "targetHandle": "uUjaJGUgh3BN-target-left"
    },
    {
      "source": "uUjaJGUgh3BN",
      "target": "xh7gYbsmo2fv",
      "sourceHandle": "uUjaJGUgh3BN-source-right",
      "targetHandle": "xh7gYbsmo2fv-target-left"
    },
    {
      "source": "xh7gYbsmo2fv",
      "target": "kJ4al17oMYrO",
      "sourceHandle": "xh7gYbsmo2fv-source-right",
      "targetHandle": "kJ4al17oMYrO-target-left"
    },
    {
      "source": "kJ4al17oMYrO",
      "target": "uCS2lfYWC2IJ",
      "sourceHandle": "kJ4al17oMYrO-source-right",
      "targetHandle": "uCS2lfYWC2IJ-target-left"
    },
    {
      "source": "uCS2lfYWC2IJ",
      "target": "n9O48trk1r8y",
      "sourceHandle": "uCS2lfYWC2IJ-source-right",
      "targetHandle": "n9O48trk1r8y-target-left"
    },
    {
      "source": "n9O48trk1r8y",
      "target": "hE7nOsmHhFAW",
      "sourceHandle": "n9O48trk1r8y-source-IF",
      "targetHandle": "hE7nOsmHhFAW-target-left"
    },
    {
      "source": "hE7nOsmHhFAW",
      "target": "kJ4al17oMYrO",
      "sourceHandle": "hE7nOsmHhFAW-source-right",
      "targetHandle": "kJ4al17oMYrO-target-left"
    },
    {
      "source": "n9O48trk1r8y",
      "target": "t1FdJoDq6eVL",
      "sourceHandle": "n9O48trk1r8y-source-ELSE",
      "targetHandle": "t1FdJoDq6eVL-target-left"
    },
    {
      "source": "t1FdJoDq6eVL",
      "target": "gXGiPMWCpH8v",
      "sourceHandle": "t1FdJoDq6eVL-source-right",
      "targetHandle": "gXGiPMWCpH8v-target-left"
    },
    {
      "source": "gXGiPMWCpH8v",
      "target": "sws18c2hRxwH",
      "sourceHandle": "gXGiPMWCpH8v-source-right",
      "targetHandle": "sws18c2hRxwH-target-left"
    },
    {
      "source": "kNX6kT7F42wF",
      "target": "iI5ua4SNfOif",
      "sourceHandle": "kNX6kT7F42wF-source-right",
      "targetHandle": "iI5ua4SNfOif-target-left"
    },
    {
      "source": "wjtgtRilc1hp",
      "target": "qLhiE0oS0ncy",
      "sourceHandle": "wjtgtRilc1hp-source-right",
      "targetHandle": "qLhiE0oS0ncy-target-left"
    }
  ],
  "chatConfig": {
    "variables": [
      {
        "id": "x5u4zx",
        "key": "品牌",
        "label": "品牌",
        "type": "select",
        "description": "",
        "required": true,
        "valueType": "string",
        "list": [
          {
            "value": "S&W官方旗舰店",
            "label": "S&W官方旗舰店"
          }
        ],
        "defaultValue": "S&W官方旗舰店",
        "enums": [
          {
            "value": "S&W官方旗舰店",
            "label": "S&W官方旗舰店"
          }
        ],
        "icon": "core/workflow/inputType/input"
      },
      {
        "id": "wjsq53",
        "key": "用户查询的产品名",
        "label": "用户查询的产品名",
        "type": "input",
        "description": "",
        "required": false,
        "valueType": "string",
        "list": [
          {
            "value": "",
            "label": ""
          }
        ],
        "defaultValue": "",
        "enums": [
          {
            "value": "",
            "label": ""
          }
        ]
      },
      {
        "id": "d2qlad",
        "key": "产品名对应的ID",
        "label": "产品名对应的ID",
        "type": "input",
        "description": "",
        "required": false,
        "valueType": "string",
        "list": [
          {
            "value": "",
            "label": ""
          }
        ],
        "defaultValue": "",
        "enums": [
          {
            "value": "",
            "label": ""
          }
        ]
      },
      {
        "id": "gluwo8",
        "key": "S&W_Marketing_questionInput",
        "label": "S&W_Marketing_questionInput",
        "type": "input",
        "description": "",
        "required": false,
        "valueType": "string",
        "list": [
          {
            "value": "",
            "label": ""
          }
        ],
        "defaultValue": "",
        "enums": [
          {
            "value": "",
            "label": ""
          }
        ],
        "icon": "core/workflow/inputType/input"
      },
      {
        "id": "th5bjc",
        "key": "S&W_Marketing_upgradeData",
        "label": "S&W_Marketing_upgradeData",
        "type": "custom",
        "description": "",
        "required": false,
        "valueType": "arrayObject",
        "list": [
          {
            "value": "",
            "label": ""
          }
        ],
        "defaultValue": "",
        "enums": [
          {
            "value": "",
            "label": ""
          }
        ],
        "icon": "core/workflow/inputType/input"
      },
      {
        "id": "t2gr7l",
        "key": "S&W_Marketing_executeList",
        "label": "S&W_Marketing_executeList",
        "type": "custom",
        "description": "",
        "required": false,
        "valueType": "arrayString",
        "list": [
          {
            "value": "",
            "label": ""
          }
        ],
        "defaultValue": "",
        "enums": [
          {
            "value": "",
            "label": ""
          }
        ],
        "icon": "core/workflow/inputType/customVariable"
      },
      {
        "id": "2tzil5",
        "key": "S&W_Marketing_sqlInputData",
        "label": "S&W_Marketing_sqlInputData",
        "type": "custom",
        "description": "",
        "required": false,
        "valueType": "string",
        "list": [
          {
            "value": "",
            "label": ""
          }
        ],
        "defaultValue": "",
        "enums": [
          {
            "value": "",
            "label": ""
          }
        ],
        "icon": "core/workflow/inputType/customVariable"
      },
      {
        "id": "mdfedj",
        "key": "品牌nickName",
        "label": "品牌nickName",
        "type": "input",
        "description": "",
        "required": false,
        "valueType": "string",
        "list": [
          {
            "value": "",
            "label": ""
          }
        ],
        "defaultValue": "",
        "enums": [
          {
            "value": "",
            "label": ""
          }
        ]
      },
      {
        "id": "77jbhm",
        "key": "S&W_Marketing_templateModule",
        "label": "S&W_Marketing_templateModule",
        "type": "custom",
        "description": "",
        "required": false,
        "valueType": "string",
        "list": [
          {
            "value": "",
            "label": ""
          }
        ],
        "defaultValue": "",
        "enums": [
          {
            "value": "",
            "label": ""
          }
        ],
        "icon": "core/workflow/inputType/customVariable"
      },
      {
        "id": "1e8q1k",
        "key": "产品名对应的产品编号",
        "label": "产品名对应的产品编号",
        "type": "input",
        "description": "",
        "required": false,
        "valueType": "string",
        "list": [
          {
            "value": "",
            "label": ""
          }
        ],
        "defaultValue": "",
        "enums": [
          {
            "value": "",
            "label": ""
          }
        ],
        "icon": "core/workflow/inputType/input"
      },
      {
        "id": "vyo6jr",
        "key": "userSelectProductColor",
        "label": "userSelectProductColor",
        "type": "input",
        "description": "",
        "required": false,
        "valueType": "string",
        "list": [
          {
            "value": "",
            "label": ""
          }
        ],
        "defaultValue": "",
        "enums": [
          {
            "value": "",
            "label": ""
          }
        ]
      }
    ],
    "scheduledTriggerConfig": {
      "cronString": "",
      "timezone": "Asia/Shanghai",
      "defaultPrompt": ""
    },
    "chatInputGuide": {
      "open": true,
      "textList": [],
      "customUrl": ""
    },
    "fileSelectConfig": {
      "canSelectFile": true,
      "canSelectImg": true,
      "maxFiles": 10
    },
    "autoExecute": {
      "open": true,
      "defaultPrompt": ""
    },
    "_id": "677f3f41660b1b534247f5b0"
  }
}